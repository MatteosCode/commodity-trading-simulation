<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Commodity Trading Club ‚Äî Full Day Simulation</title>
<link href="https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Barlow+Condensed:wght@300;400;600;700;900&family=Barlow:wght@300;400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --black: #080a0d;
    --panel: #0d1117;
    --panel2: #101820;
    --border: #1a2332;
    --amber: #ffb300;
    --amber-dim: #7a5500;
    --green: #00e676;
    --green-dim: #00573d;
    --red: #ff1744;
    --red-dim: #5c0019;
    --blue: #40c4ff;
    --cyan: #00e5ff;
    --text: #c8d6e5;
    --text-dim: #4a5568;
    --gold: #ffd54f;
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { background: var(--black); color: var(--text); font-family: 'Barlow', sans-serif; font-size: 14px; line-height: 1.5; min-height: 100vh; }

  /* HEADER */
  .header { background: var(--panel); border-bottom: 1px solid var(--amber); padding: 12px 24px; display: flex; align-items: center; justify-content: space-between; position: sticky; top: 0; z-index: 200; }
  .logo { font-family: 'Barlow Condensed', sans-serif; font-size: 20px; font-weight: 900; letter-spacing: 3px; color: var(--amber); text-transform: uppercase; }
  .logo span { color: var(--green); }
  .tagline { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--text-dim); letter-spacing: 2px; }
  .clock { font-family: 'Share Tech Mono', monospace; font-size: 22px; color: var(--green); letter-spacing: 2px; }
  .session-badge { font-family: 'Barlow Condensed', sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 2px; padding: 4px 10px; border: 1px solid var(--amber); color: var(--amber); text-transform: uppercase; }

  /* NAV */
  .nav { background: var(--panel); border-bottom: 1px solid var(--border); display: flex; padding: 0 24px; overflow-x: auto; gap: 0; }
  .tab { font-family: 'Barlow Condensed', sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; padding: 11px 18px; cursor: pointer; border-bottom: 3px solid transparent; color: var(--text-dim); transition: all 0.2s; white-space: nowrap; border-top: none; border-left: none; border-right: none; background: none; }
  .tab:hover { color: var(--text); }
  .tab.active { color: var(--amber); border-bottom: 3px solid var(--amber); }
  .tab.energy.active { color: #40c4ff; border-bottom-color: #40c4ff; }
  .tab.agri.active { color: var(--green); border-bottom-color: var(--green); }
  .tab.risk.active { color: var(--red); border-bottom-color: var(--red); }
  .tab.live-tab { color: var(--cyan); }
  .tab.live-tab.active { color: var(--cyan); border-bottom-color: var(--cyan); }
  .tab-dot { display: inline-block; width: 6px; height: 6px; background: var(--red); border-radius: 50%; margin-left: 5px; animation: blink 1s infinite; vertical-align: middle; }
  @keyframes blink { 0%,100%{opacity:1} 50%{opacity:0.2} }

  /* PAGES */
  .page { display: none; padding: 24px; max-width: 1400px; margin: 0 auto; }
  .page.active { display: block; }

  /* TYPOGRAPHY */
  .section-title { font-family: 'Barlow Condensed', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 4px; text-transform: uppercase; color: var(--amber); margin-bottom: 12px; display: flex; align-items: center; gap: 10px; }
  .section-title::after { content: ''; flex: 1; height: 1px; background: var(--border); }
  .section-title.blue { color: var(--blue); }
  .section-title.green { color: var(--green); }
  .section-title.red { color: var(--red); }
  .section-title.cyan { color: var(--cyan); }

  /* GRIDS */
  .grid-2 { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; margin-bottom: 22px; }
  .grid-3 { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 18px; margin-bottom: 22px; }
  .grid-4 { display: grid; grid-template-columns: 1fr 1fr 1fr 1fr; gap: 14px; margin-bottom: 22px; }
  .grid-1-2 { display: grid; grid-template-columns: 1fr 2fr; gap: 18px; margin-bottom: 22px; }

  /* CARDS */
  .card { background: var(--panel); border: 1px solid var(--border); padding: 16px; position: relative; }
  .card::before { content: ''; position: absolute; top: 0; left: 0; width: 3px; height: 100%; background: var(--amber); }
  .card.blue::before { background: var(--blue); }
  .card.green::before { background: var(--green); }
  .card.red::before { background: var(--red); }
  .card.cyan::before { background: var(--cyan); }
  .card-title { font-family: 'Barlow Condensed', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; color: var(--text-dim); margin-bottom: 12px; }

  /* STAT BOX */
  .stat-box { background: var(--panel); border: 1px solid var(--border); padding: 16px; text-align: center; }
  .stat-value { font-family: 'Share Tech Mono', monospace; font-size: 24px; color: var(--amber); line-height: 1; margin-bottom: 4px; }
  .stat-value.blue { color: var(--blue); }
  .stat-value.green { color: var(--green); }
  .stat-value.red { color: var(--red); }
  .stat-value.cyan { color: var(--cyan); }
  .stat-label { font-family: 'Barlow Condensed', sans-serif; font-size: 11px; letter-spacing: 2px; color: var(--text-dim); text-transform: uppercase; }

  /* TIMELINE */
  .timeline { position: relative; padding-left: 28px; }
  .timeline::before { content: ''; position: absolute; left: 8px; top: 8px; bottom: 8px; width: 1px; background: linear-gradient(to bottom, var(--amber), transparent); }
  .timeline-item { position: relative; margin-bottom: 18px; }
  .timeline-item::before { content: ''; position: absolute; left: -24px; top: 6px; width: 8px; height: 8px; border: 1px solid var(--amber); background: var(--black); transform: rotate(45deg); }
  .timeline-item.red::before { border-color: var(--red); }
  .timeline-item.blue::before { border-color: var(--blue); }
  .timeline-item.green::before { border-color: var(--green); }
  .tl-time { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--amber); margin-bottom: 2px; }
  .tl-time.red { color: var(--red); }
  .tl-time.blue { color: var(--blue); }
  .tl-time.green { color: var(--green); }
  .tl-title { font-family: 'Barlow Condensed', sans-serif; font-size: 15px; font-weight: 700; color: var(--text); margin-bottom: 4px; }
  .tl-body { font-size: 13px; color: var(--text-dim); line-height: 1.6; }

  /* RULE BLOCK */
  .rule-block { background: rgba(255,179,0,0.04); border: 1px solid rgba(255,179,0,0.15); padding: 12px 14px; margin-bottom: 10px; font-size: 13px; }
  .rule-block.blue { background: rgba(64,196,255,0.04); border-color: rgba(64,196,255,0.15); }
  .rule-block.green { background: rgba(0,230,118,0.04); border-color: rgba(0,230,118,0.15); }
  .rule-block.red { background: rgba(255,23,68,0.04); border-color: rgba(255,23,68,0.15); }
  .rule-label { font-family: 'Barlow Condensed', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; margin-bottom: 6px; }
  .rule-label.amber { color: var(--amber); }
  .rule-label.blue { color: var(--blue); }
  .rule-label.green { color: var(--green); }
  .rule-label.red { color: var(--red); }

  /* TABLES */
  .comm-table { width: 100%; border-collapse: collapse; font-family: 'Share Tech Mono', monospace; font-size: 12px; }
  .comm-table th { text-align: left; padding: 6px 10px; font-size: 10px; letter-spacing: 2px; color: var(--text-dim); border-bottom: 1px solid var(--border); font-family: 'Barlow Condensed', sans-serif; font-weight: 700; }
  .comm-table td { padding: 8px 10px; border-bottom: 1px solid #111820; }
  .comm-table tr:hover td { background: #0f1820; }
  .commodity-name { font-family: 'Barlow Condensed', sans-serif; font-size: 14px; font-weight: 600; color: var(--text); }
  .up { color: var(--green); }
  .down { color: var(--red); }
  .neutral { color: var(--amber); }

  /* EVENT CARDS */
  .event-card { background: var(--panel); border: 1px solid var(--border); border-left: 3px solid var(--amber); padding: 14px 16px; margin-bottom: 12px; }
  .event-card.blue { border-left-color: var(--blue); }
  .event-card.green { border-left-color: var(--green); }
  .event-card.red { border-left-color: var(--red); }
  .event-severity { font-family: 'Share Tech Mono', monospace; font-size: 10px; letter-spacing: 2px; margin-bottom: 4px; }
  .sev-high { color: var(--red); }
  .sev-med { color: var(--amber); }
  .sev-low { color: var(--green); }
  .event-title { font-family: 'Barlow Condensed', sans-serif; font-size: 15px; font-weight: 700; margin-bottom: 6px; }
  .event-body { font-size: 12px; color: var(--text-dim); line-height: 1.6; margin-bottom: 8px; }
  .event-impact { font-family: 'Share Tech Mono', monospace; font-size: 11px; color: var(--amber); padding: 6px 10px; background: rgba(255,179,0,0.05); border: 1px solid rgba(255,179,0,0.15); }
  .event-impact.blue { color: var(--blue); background: rgba(64,196,255,0.05); border-color: rgba(64,196,255,0.15); }
  .event-impact.green { color: var(--green); background: rgba(0,230,118,0.05); border-color: rgba(0,230,118,0.15); }

  /* CHECKLIST */
  .checklist { list-style: none; }
  .checklist li { padding: 7px 0; border-bottom: 1px solid var(--border); font-size: 13px; display: flex; gap: 10px; align-items: flex-start; }
  .checklist li::before { content: '‚óÜ'; color: var(--amber); font-size: 8px; margin-top: 4px; flex-shrink: 0; }
  .checklist li.blue::before { color: var(--blue); }
  .checklist li.green::before { color: var(--green); }
  .checklist li.red::before { color: var(--red); }

  /* DEBRIEF */
  .debrief-q { background: var(--panel); border: 1px solid var(--border); border-left: 3px solid var(--amber); padding: 12px 16px; margin-bottom: 10px; font-size: 13px; font-style: italic; }
  .debrief-q.blue { border-left-color: var(--blue); }
  .debrief-q.green { border-left-color: var(--green); }
  .debrief-q.red { border-left-color: var(--red); }

  /* ROLE CARD */
  .role-card { background: var(--panel); border: 1px solid var(--border); padding: 16px; }
  .role-name { font-family: 'Barlow Condensed', sans-serif; font-size: 16px; font-weight: 700; letter-spacing: 1px; margin-bottom: 2px; }
  .role-desk { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--text-dim); margin-bottom: 10px; letter-spacing: 1px; }
  .role-duties { font-size: 12px; color: var(--text-dim); line-height: 1.7; }

  /* ‚ïê‚ïê‚ïê LIVE SIM PAGE ‚ïê‚ïê‚ïê */
  /* Scoreboard */
  .scoreboard { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 20px; }
  .desk-score { background: var(--panel); border: 1px solid var(--border); padding: 16px; position: relative; overflow: hidden; transition: all 0.3s; }
  .desk-score::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; }
  .desk-score.softs::before { background: var(--amber); }
  .desk-score.energy::before { background: var(--blue); }
  .desk-score.agri::before { background: var(--green); }
  .ds-name { font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; color: var(--text-dim); margin-bottom: 4px; }
  .ds-pnl { font-family: 'Share Tech Mono', monospace; font-size: 28px; font-weight: 700; margin-bottom: 4px; transition: all 0.3s; }
  .ds-pnl.pos { color: var(--green); }
  .ds-pnl.neg { color: var(--red); }
  .ds-pnl.zero { color: var(--text-dim); }
  .ds-dll { font-family: 'Share Tech Mono', monospace; font-size: 11px; margin-bottom: 8px; }
  .dll-bar-wrap { height: 4px; background: var(--border); width: 100%; }
  .dll-bar { height: 4px; background: var(--green); transition: width 0.5s, background 0.3s; }
  .dll-bar.warn { background: var(--amber); }
  .dll-bar.danger { background: var(--red); animation: pulse-red 0.5s infinite; }
  @keyframes pulse-red { 0%,100%{opacity:1} 50%{opacity:0.4} }
  .ds-meta { font-size: 11px; color: var(--text-dim); margin-top: 6px; font-family: 'Share Tech Mono', monospace; }

  /* Sim controls */
  .sim-controls { background: var(--panel); border: 1px solid var(--border); padding: 16px; margin-bottom: 20px; display: flex; align-items: center; gap: 14px; flex-wrap: wrap; }
  .sim-btn { font-family: 'Barlow Condensed', sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; padding: 8px 16px; border: 1px solid; cursor: pointer; transition: all 0.2s; background: transparent; }
  .sim-btn.amber { color: var(--amber); border-color: var(--amber); }
  .sim-btn.amber:hover { background: var(--amber); color: var(--black); }
  .sim-btn.green { color: var(--green); border-color: var(--green); }
  .sim-btn.green:hover { background: var(--green); color: var(--black); }
  .sim-btn.red { color: var(--red); border-color: var(--red); }
  .sim-btn.red:hover { background: var(--red); color: var(--black); }
  .sim-btn.blue { color: var(--blue); border-color: var(--blue); }
  .sim-btn.blue:hover { background: var(--blue); color: var(--black); }
  .sim-btn:disabled { opacity: 0.3; cursor: not-allowed; }
  .sim-timer { font-family: 'Share Tech Mono', monospace; font-size: 13px; color: var(--text-dim); }

  /* Trade entry */
  .trade-panel { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 20px; }
  .trade-form { background: var(--panel); border: 1px solid var(--border); padding: 16px; }
  .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 10px; }
  .form-group { display: flex; flex-direction: column; gap: 5px; }
  .form-label { font-family: 'Barlow Condensed', sans-serif; font-size: 10px; letter-spacing: 3px; text-transform: uppercase; color: var(--text-dim); }
  .form-input, .form-select { background: var(--black); border: 1px solid var(--border); color: var(--text); padding: 8px 10px; font-family: 'Share Tech Mono', monospace; font-size: 13px; width: 100%; outline: none; }
  .form-input:focus, .form-select:focus { border-color: var(--amber); }
  .form-select option { background: var(--panel); }
  .btn-long { background: rgba(0,230,118,0.1); border: 1px solid var(--green); color: var(--green); padding: 10px; font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 2px; cursor: pointer; width: 100%; transition: all 0.2s; }
  .btn-long:hover { background: var(--green); color: var(--black); }
  .btn-short { background: rgba(255,23,68,0.1); border: 1px solid var(--red); color: var(--red); padding: 10px; font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 2px; cursor: pointer; width: 100%; transition: all 0.2s; }
  .btn-short:hover { background: var(--red); color: var(--black); }
  .btn-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px; }

  /* Price feed */
  .price-feed { background: var(--panel); border: 1px solid var(--border); padding: 16px; }
  .price-row { display: flex; justify-content: space-between; align-items: center; padding: 8px 0; border-bottom: 1px solid var(--border); }
  .price-name { font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 600; }
  .price-val { font-family: 'Share Tech Mono', monospace; font-size: 14px; }
  .price-change { font-family: 'Share Tech Mono', monospace; font-size: 11px; min-width: 60px; text-align: right; }
  .price-input-group { display: flex; gap: 6px; align-items: center; }
  .price-edit { width: 80px; background: var(--black); border: 1px solid var(--border); color: var(--text); padding: 4px 6px; font-family: 'Share Tech Mono', monospace; font-size: 12px; outline: none; }
  .price-edit:focus { border-color: var(--amber); }
  .price-set-btn { background: var(--amber-dim); border: none; color: var(--amber); padding: 4px 8px; cursor: pointer; font-size: 11px; font-family: 'Barlow Condensed', sans-serif; font-weight: 700; letter-spacing: 1px; }
  .price-set-btn:hover { background: var(--amber); color: var(--black); }

  /* Trade blotter */
  .blotter { background: var(--panel); border: 1px solid var(--border); padding: 0; overflow: hidden; }
  .blotter-header { display: grid; grid-template-columns: 70px 80px 100px 70px 60px 90px 90px 90px 80px; gap: 0; background: #0a0e14; border-bottom: 1px solid var(--amber-dim); }
  .blotter-header span { font-family: 'Barlow Condensed', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 2px; color: var(--text-dim); padding: 6px 8px; text-transform: uppercase; }
  .blotter-body { max-height: 220px; overflow-y: auto; }
  .blotter-row { display: grid; grid-template-columns: 70px 80px 100px 70px 60px 90px 90px 90px 80px; gap: 0; border-bottom: 1px solid var(--border); animation: fadeIn 0.3s ease; }
  @keyframes fadeIn { from { opacity: 0; background: rgba(255,179,0,0.05); } to { opacity: 1; } }
  .blotter-row span { font-family: 'Share Tech Mono', monospace; font-size: 11px; padding: 7px 8px; color: var(--text-dim); }
  .blotter-row span.long { color: var(--green); }
  .blotter-row span.short { color: var(--red); }
  .blotter-row span.pos { color: var(--green); }
  .blotter-row span.neg { color: var(--red); }
  .blotter-row span.desk { font-family: 'Barlow Condensed', sans-serif; font-size: 12px; font-weight: 700; color: var(--text); }
  .blotter-empty { padding: 20px; text-align: center; color: var(--text-dim); font-family: 'Share Tech Mono', monospace; font-size: 12px; }

  /* Alert feed */
  .alert-feed { background: var(--panel); border: 1px solid var(--border); }
  .alert-feed-header { padding: 10px 14px; background: #0a0e14; border-bottom: 1px solid var(--border); font-family: 'Barlow Condensed', sans-serif; font-size: 11px; font-weight: 700; letter-spacing: 3px; color: var(--text-dim); text-transform: uppercase; }
  .alert-list { max-height: 200px; overflow-y: auto; }
  .alert-item { padding: 8px 14px; border-bottom: 1px solid var(--border); display: flex; gap: 10px; align-items: flex-start; font-size: 12px; animation: fadeIn 0.3s ease; }
  .alert-item.warn { border-left: 3px solid var(--amber); }
  .alert-item.danger { border-left: 3px solid var(--red); background: rgba(255,23,68,0.04); }
  .alert-item.info { border-left: 3px solid var(--blue); }
  .alert-item.good { border-left: 3px solid var(--green); }
  .alert-time { font-family: 'Share Tech Mono', monospace; font-size: 10px; color: var(--text-dim); white-space: nowrap; }
  .alert-msg { color: var(--text); line-height: 1.4; }

  /* Event fire panel */
  .event-fire-panel { background: var(--panel); border: 1px solid var(--border); padding: 16px; margin-bottom: 20px; }
  .event-btn { background: rgba(64,196,255,0.06); border: 1px solid rgba(64,196,255,0.25); color: var(--blue); padding: 10px 14px; font-family: 'Barlow Condensed', sans-serif; font-size: 12px; font-weight: 700; letter-spacing: 1px; cursor: pointer; margin-bottom: 6px; width: 100%; text-align: left; transition: all 0.2s; display: flex; justify-content: space-between; align-items: center; }
  .event-btn:hover { background: rgba(64,196,255,0.15); border-color: var(--blue); }
  .event-btn.fired { opacity: 0.4; cursor: not-allowed; text-decoration: line-through; }
  .event-btn.fired:hover { background: rgba(64,196,255,0.06); }
  .event-btn .ev-time { font-size: 10px; color: var(--text-dim); font-family: 'Share Tech Mono', monospace; }
  .event-btn.high-sev { border-color: rgba(255,23,68,0.3); color: var(--red); background: rgba(255,23,68,0.05); }
  .event-btn.high-sev:hover { background: rgba(255,23,68,0.12); }

  /* Event modal */
  .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.85); z-index: 1000; align-items: center; justify-content: center; }
  .modal-overlay.active { display: flex; }
  .modal { background: var(--panel); border: 1px solid var(--amber); max-width: 600px; width: 90%; position: relative; animation: modalIn 0.2s ease; }
  @keyframes modalIn { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
  .modal-header { background: #0a0e14; border-bottom: 1px solid var(--amber-dim); padding: 14px 18px; display: flex; justify-content: space-between; align-items: center; }
  .modal-title { font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; color: var(--amber); }
  .modal-close { background: none; border: none; color: var(--text-dim); cursor: pointer; font-size: 18px; line-height: 1; }
  .modal-close:hover { color: var(--text); }
  .modal-body { padding: 18px; }
  .modal-footer { padding: 14px 18px; border-top: 1px solid var(--border); display: flex; justify-content: flex-end; gap: 10px; }
  .modal.red { border-color: var(--red); }
  .modal.red .modal-header { border-bottom-color: rgba(255,23,68,0.3); }
  .modal.red .modal-title { color: var(--red); }
  .modal.blue { border-color: var(--blue); }
  .modal.blue .modal-header { border-bottom-color: rgba(64,196,255,0.3); }
  .modal.blue .modal-title { color: var(--blue); }
  .modal.green { border-color: var(--green); }
  .modal.green .modal-header { border-bottom-color: rgba(0,230,118,0.3); }
  .modal.green .modal-title { color: var(--green); }

  /* Alert flash */
  .alert-flash { position: fixed; top: 80px; right: 20px; z-index: 500; max-width: 360px; animation: slideIn 0.3s ease; }
  @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
  .alert-flash-inner { background: var(--panel); border: 1px solid var(--red); border-left: 4px solid var(--red); padding: 14px 16px; }
  .alert-flash-inner.warn { border-color: var(--amber); }
  .alert-flash-inner.info { border-color: var(--blue); }
  .alert-flash-inner.event { border-color: var(--cyan); }
  .af-title { font-family: 'Barlow Condensed', sans-serif; font-size: 13px; font-weight: 700; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 4px; color: var(--red); }
  .af-title.warn { color: var(--amber); }
  .af-title.info { color: var(--blue); }
  .af-title.event { color: var(--cyan); }
  .af-body { font-size: 12px; color: var(--text-dim); }

  /* Morning view form */
  .morning-view { background: var(--panel); border: 1px solid var(--border); padding: 16px; margin-bottom: 20px; }
  .mv-section { margin-bottom: 16px; }
  .mv-label { font-family: 'Barlow Condensed', sans-serif; font-size: 10px; font-weight: 700; letter-spacing: 3px; text-transform: uppercase; color: var(--text-dim); margin-bottom: 6px; }
  .mv-textarea { background: var(--black); border: 1px solid var(--border); color: var(--text); padding: 10px; font-family: 'Share Tech Mono', monospace; font-size: 12px; width: 100%; min-height: 60px; resize: vertical; outline: none; line-height: 1.6; }
  .mv-textarea:focus { border-color: var(--amber); }
  .mv-row { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-bottom: 10px; }
  .mv-select { background: var(--black); border: 1px solid var(--border); color: var(--text); padding: 6px 10px; font-family: 'Share Tech Mono', monospace; font-size: 12px; width: 100%; outline: none; }
  .mv-select:focus { border-color: var(--amber); }
  .mv-submitted { background: rgba(0,230,118,0.05); border: 1px solid rgba(0,230,118,0.2); padding: 16px; font-family: 'Share Tech Mono', monospace; font-size: 12px; color: var(--text-dim); line-height: 2; }

  /* Open positions */
  .positions-table { width: 100%; border-collapse: collapse; font-family: 'Share Tech Mono', monospace; font-size: 12px; }
  .positions-table th { text-align: left; padding: 6px 10px; font-size: 10px; letter-spacing: 2px; color: var(--text-dim); border-bottom: 1px solid var(--amber-dim); font-family: 'Barlow Condensed', sans-serif; font-weight: 700; }
  .positions-table td { padding: 8px 10px; border-bottom: 1px solid var(--border); }
  .positions-table tr:hover td { background: #0f1820; }
  .close-pos-btn { background: rgba(255,23,68,0.1); border: 1px solid rgba(255,23,68,0.3); color: var(--red); padding: 3px 8px; cursor: pointer; font-size: 10px; font-family: 'Barlow Condensed', sans-serif; font-weight: 700; letter-spacing: 1px; }
  .close-pos-btn:hover { background: var(--red); color: var(--black); }

  /* EOD Report */
  .eod-report { font-family: 'Share Tech Mono', monospace; font-size: 12px; line-height: 2; color: var(--text-dim); padding: 16px; background: #0a0e14; border: 1px solid rgba(255,23,68,0.2); white-space: pre-wrap; }
  .eod-highlight { color: var(--amber); }
  .eod-pos { color: var(--green); }
  .eod-neg { color: var(--red); }

  /* Scrollbar */
  ::-webkit-scrollbar { width: 5px; height: 5px; }
  ::-webkit-scrollbar-track { background: var(--black); }
  ::-webkit-scrollbar-thumb { background: var(--amber-dim); }

  @media (max-width: 900px) {
    .grid-2, .grid-3, .grid-4, .grid-1-2 { grid-template-columns: 1fr; }
    .scoreboard { grid-template-columns: 1fr; }
    .trade-panel { grid-template-columns: 1fr; }
    .blotter-header, .blotter-row { grid-template-columns: 60px 70px 90px 60px 50px 80px 80px 80px 70px; }
  }

  /* Toolbar pulse when alert */
  .alert-badge { display: none; background: var(--red); color: white; border-radius: 50%; width: 16px; height: 16px; font-size: 10px; text-align: center; line-height: 16px; font-family: 'Barlow Condensed', sans-serif; font-weight: 700; margin-left: 4px; }
  .alert-badge.show { display: inline-block; animation: blink 1s infinite; }
</style>
</head>
<body>

<div class="header">
  <div style="display:flex;align-items:center;gap:16px;">
    <div>
      <div class="logo">Commodity <span>Trading</span> Club</div>
      <div class="tagline">Full Day Simulation Framework ¬∑ 4-Desk Structure</div>
    </div>
    <!-- KLU Hamburg Badge -->
    <div style="display:flex;align-items:center;gap:8px;padding:5px 12px;border:1px solid #1a2332;background:#0d1117;margin-left:4px;">
      <svg width="22" height="22" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect width="40" height="40" rx="2" fill="#002855"/>
        <text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" fill="#ffb300" font-family="Arial Black,sans-serif" font-size="13" font-weight="900">K</text>
      </svg>
      <div>
        <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;color:#c8d6e5;text-transform:uppercase;">K√ºhne Logistics University</div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:#4a5568;letter-spacing:1px;">Hamburg ¬∑ Commodity Trading Club</div>
      </div>
    </div>
  </div>
  <div style="display:flex;align-items:center;gap:16px;">
    <div class="session-badge" id="sessionBadge">Pre-Market</div>
    <div class="clock" id="clock">08:30:00</div>
  </div>
</div>

<div class="nav">
  <button class="tab live-tab active" onclick="showPage('live')">‚¨õ Live Sim <span class="tab-dot"></span></button>
  <button class="tab" onclick="showPage('overview')">Overview</button>
  <button class="tab" onclick="showPage('softs')">Softs & Hards</button>
  <button class="tab energy" onclick="showPage('energy')">Energy</button>
  <button class="tab agri" onclick="showPage('agri')">Agriculture</button>
  <button class="tab risk" onclick="showPage('risk')">Risk Desk</button>
  <button class="tab" onclick="showPage('scenarios')">Scenarios</button>
  <button class="tab" onclick="showPage('mechanics')">Mechanics</button>
  <button class="tab" onclick="showPage('debrief')">Debrief</button>
  <button class="tab" onclick="showPage('about')" style="margin-left:auto;color:#4a5568;border-bottom:3px solid transparent;" id="tab-about">About</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LIVE SIM PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="page-live">

  <!-- SCOREBOARD -->
  <div class="section-title cyan">Firmwide P&L Scoreboard</div>
  <div class="scoreboard">
    <div class="desk-score softs" id="score-softs">
      <div class="ds-name">Softs & Hards Desk</div>
      <div class="ds-pnl zero" id="pnl-softs">$0</div>
      <div class="ds-dll" id="dll-softs-text" style="color:var(--text-dim)">DLL: $0 / $150,000</div>
      <div class="dll-bar-wrap"><div class="dll-bar" id="dll-bar-softs" style="width:0%"></div></div>
      <div class="ds-meta" id="meta-softs">0 positions ¬∑ 0 lots open</div>
    </div>
    <div class="desk-score energy" id="score-energy">
      <div class="ds-name">Energy Desk</div>
      <div class="ds-pnl zero" id="pnl-energy">$0</div>
      <div class="ds-dll" id="dll-energy-text" style="color:var(--text-dim)">DLL: $0 / $200,000</div>
      <div class="dll-bar-wrap"><div class="dll-bar" id="dll-bar-energy" style="width:0%"></div></div>
      <div class="ds-meta" id="meta-energy">0 positions ¬∑ 0 lots open</div>
    </div>
    <div class="desk-score agri" id="score-agri">
      <div class="ds-name">Agriculture Desk</div>
      <div class="ds-pnl zero" id="pnl-agri">$0</div>
      <div class="ds-dll" id="dll-agri-text" style="color:var(--text-dim)">DLL: $0 / $150,000</div>
      <div class="dll-bar-wrap"><div class="dll-bar" id="dll-bar-agri" style="width:0%"></div></div>
      <div class="ds-meta" id="meta-agri">0 positions ¬∑ 0 lots open</div>
    </div>
  </div>

  <!-- CONTROLS -->
  <div class="sim-controls">
    <div style="font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:3px;color:var(--text-dim);text-transform:uppercase;">Facilitator Controls</div>
    <button class="sim-btn amber" onclick="updateAllPnL()">‚Üª Refresh P&L</button>
    <button class="sim-btn blue" onclick="openPriceModal()">‚¨° Update Prices</button>
    <button class="sim-btn red" onclick="generateEOD()">üìã EOD Report</button>
    <button class="sim-btn" style="color:var(--text-dim);border-color:var(--border);" onclick="resetSim()">Reset Sim</button>
    <div class="sim-timer" id="sim-phase-label" style="margin-left:auto;">Current Phase: Pre-Market</div>
  </div>

  <div class="trade-panel">
    <!-- TRADE ENTRY -->
    <div>
      <div class="section-title">Trade Entry</div>
      <div class="trade-form">
        <div class="card-title">Log a Trade</div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Desk</label>
            <select class="form-select" id="trade-desk">
              <option value="softs">Softs & Hards</option>
              <option value="energy">Energy</option>
              <option value="agri">Agriculture</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Commodity</label>
            <select class="form-select" id="trade-commodity">
              <option value="Gold">Gold (10 oz/lot)</option>
              <option value="Copper">Copper (500 lbs/lot)</option>
              <option value="Coffee">Coffee (100 lbs/lot)</option>
              <option value="Sugar">Sugar (1,000 lbs/lot)</option>
              <option value="Cotton">Cotton (500 lbs/lot)</option>
              <option value="Silver">Silver (100 oz/lot)</option>
              <option value="WTI Crude">WTI Crude (100 bbl/lot)</option>
              <option value="Brent Crude">Brent Crude (100 bbl/lot)</option>
              <option value="Nat Gas">Nat Gas (1,000 MMBtu/lot)</option>
              <option value="Heating Oil">Heating Oil (42,000 gal/lot)</option>
              <option value="Corn">Corn (500 bu/lot)</option>
              <option value="Soybeans">Soybeans (500 bu/lot)</option>
              <option value="Wheat">Wheat (500 bu/lot)</option>
              <option value="Soy Meal">Soy Meal (100 ton/lot)</option>
              <option value="Live Cattle">Live Cattle (400 lbs/lot)</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Entry Price</label>
            <input class="form-input" type="number" id="trade-price" placeholder="0.00" step="0.01">
          </div>
          <div class="form-group">
            <label class="form-label">Lots</label>
            <input class="form-input" type="number" id="trade-lots" placeholder="1" min="1" max="20">
          </div>
        </div>
        <div class="btn-row">
          <button class="btn-long" onclick="logTrade('L')">‚ñ≤ LONG</button>
          <button class="btn-short" onclick="logTrade('S')">‚ñº SHORT</button>
        </div>
      </div>

      <!-- OPEN POSITIONS -->
      <div class="section-title" style="margin-top:16px;">Open Positions</div>
      <div style="background:var(--panel);border:1px solid var(--border);overflow:auto;">
        <table class="positions-table" id="positions-table">
          <thead>
            <tr>
              <th>Desk</th><th>Commodity</th><th>Dir</th><th>Entry</th><th>Lots</th><th>Curr Price</th><th>Unreal P&L</th><th>Close</th>
            </tr>
          </thead>
          <tbody id="positions-body">
            <tr><td colspan="8" style="text-align:center;color:var(--text-dim);padding:16px;font-family:'Share Tech Mono',monospace;font-size:12px;">No open positions</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div>
      <!-- PRICE FEED -->
      <div class="section-title">Official Price Feed <span style="font-size:9px;color:var(--text-dim);font-family:'Share Tech Mono',monospace;">(Facilitator Updates)</span></div>
      <div class="price-feed" id="price-feed-panel">
        <!-- generated by JS -->
      </div>

      <!-- ALERT FEED -->
      <div class="section-title" style="margin-top:16px;">Risk Alerts <span class="alert-badge" id="alert-badge">0</span></div>
      <div class="alert-feed">
        <div class="alert-feed-header">Live Risk Monitor Feed</div>
        <div class="alert-list" id="alert-list">
          <div class="alert-item info">
            <span class="alert-time">08:30</span>
            <span class="alert-msg">Simulation initialised. All desks at $0 P&L. Risk monitoring active.</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- TRADE BLOTTER -->
  <div class="section-title">Trade Blotter ‚Äî All Logged Trades</div>
  <div class="blotter">
    <div class="blotter-header">
      <span>Time</span><span>Desk</span><span>Commodity</span><span>Dir</span><span>Lots</span><span>Entry</span><span>Curr</span><span>Unreal P&L</span><span>Status</span>
    </div>
    <div class="blotter-body" id="blotter-body">
      <div class="blotter-empty">No trades logged. Use the trade entry form above to begin.</div>
    </div>
  </div>

  <!-- SCENARIO FIRE PANEL -->
  <div class="section-title" style="margin-top:20px;">Facilitator ‚Äî Fire Scenario Events</div>
  <div class="event-fire-panel">
    <div class="card-title">Click to inject a market event. The room reacts within 2 minutes.</div>
    <div class="grid-2" style="margin-top:12px;">
      <div id="scenario-buttons-col1"></div>
      <div id="scenario-buttons-col2"></div>
    </div>
  </div>

  <!-- Morning Views -->
  <div class="section-title">Morning View Submissions</div>
  <div class="grid-3" id="morning-views-grid"></div>

</div><!-- /page-live -->

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: OVERVIEW -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-overview">
  <div class="section-title">Day Structure ‚Äî Simulation Overview</div>
  <div class="grid-4" style="margin-bottom:24px;">
    <div class="stat-box"><div class="stat-value">4</div><div class="stat-label">Active Desks</div></div>
    <div class="stat-box"><div class="stat-value blue">6h</div><div class="stat-label">Sim Duration</div></div>
    <div class="stat-box"><div class="stat-value green">$10M</div><div class="stat-label">Notional Per Desk</div></div>
    <div class="stat-box"><div class="stat-value red">5+</div><div class="stat-label">Intraday Events</div></div>
  </div>
  <div class="grid-1-2">
    <div>
      <div class="section-title">Session Timeline</div>
      <div class="timeline">
        <div class="timeline-item"><div class="tl-time">08:30 ‚Äì 09:00</div><div class="tl-title">Pre-Market Prep</div><div class="tl-body">Overnight review, position brief, risk limits set. Morning views submitted to facilitator.</div></div>
        <div class="timeline-item"><div class="tl-time">09:00 ‚Äì 09:30</div><div class="tl-title">Morning Meeting</div><div class="tl-body">Each desk delivers 2-min morning view. Risk desk confirms limits. First trades begin.</div></div>
        <div class="timeline-item blue"><div class="tl-time blue">09:30 ‚Äì 11:00</div><div class="tl-title">Session 1 ‚Äî Opening</div><div class="tl-body">Live trading. First scenario events fire at 09:45 and 10:20.</div></div>
        <div class="timeline-item red"><div class="tl-time red">11:00 ‚Äì 11:15</div><div class="tl-title">Mid-Morning Mark</div><div class="tl-body">Risk Desk publishes firmwide P&L snapshot. Alerts flagged.</div></div>
        <div class="timeline-item blue"><div class="tl-time blue">11:15 ‚Äì 12:30</div><div class="tl-title">Session 2</div><div class="tl-body">Brazil frost event, China PMI. Highest volatility period.</div></div>
        <div class="timeline-item"><div class="tl-time">12:30 ‚Äì 13:00</div><div class="tl-title">Lunch Break</div><div class="tl-body">No trading. Desks review positions and P&L.</div></div>
        <div class="timeline-item green"><div class="tl-time green">13:00 ‚Äì 14:15</div><div class="tl-title">Session 3 ‚Äî Final</div><div class="tl-body">OPEC surprise cut. Treasury auction failure. Desks manage into close.</div></div>
        <div class="timeline-item red"><div class="tl-time red">14:15 ‚Äì 14:30</div><div class="tl-title">EOD Close</div><div class="tl-body">All positions marked. Final P&L locked. EOD report produced.</div></div>
        <div class="timeline-item"><div class="tl-time">14:30 ‚Äì 15:30</div><div class="tl-title">Debrief</div><div class="tl-body">4-phase structured debrief. Awards. Learning capture.</div></div>
      </div>
    </div>
    <div>
      <div class="section-title">The Four Desks</div>
      <div style="display:grid;gap:12px;">
        <div class="role-card">
          <div class="role-name" style="color:var(--amber)">Softs & Hards Desk</div>
          <div class="role-desk">GOLD ¬∑ SILVER ¬∑ COPPER ¬∑ COFFEE ¬∑ SUGAR ¬∑ COTTON</div>
          <div class="role-duties">Trades precious metals and soft commodities. Gold and silver respond to macro/USD; industrial metals (copper) track China growth. Soft commodities are weather and supply-chain driven. DLL: $150k. Max 15 lots, 5 per commodity.</div>
        </div>
        <div class="role-card">
          <div class="role-name" style="color:var(--blue)">Energy Desk</div>
          <div class="role-desk">WTI CRUDE ¬∑ BRENT ¬∑ NAT GAS ¬∑ HEATING OIL</div>
          <div class="role-duties">Highest volatility desk. Focus: OPEC decisions, EIA inventory data, geopolitical risk, crack spreads. Brent/WTI spread trades are a key strategy. DLL: $200k. Max 12 lots, 70% concentration limit in crude.</div>
        </div>
        <div class="role-card">
          <div class="role-name" style="color:var(--green)">Agriculture Desk</div>
          <div class="role-desk">CORN ¬∑ SOYBEANS ¬∑ WHEAT ¬∑ SOY MEAL ¬∑ LIVE CATTLE</div>
          <div class="role-duties">Data-driven, USDA report dependent. Central trades: soy crush spread, corn/wheat substitution, old crop/new crop calendar. WASDE report at noon is the session-defining event. DLL: $150k. Max 15 lots, 4 per commodity.</div>
        </div>
        <div class="role-card">
          <div class="role-name" style="color:var(--red)">Risk Desk</div>
          <div class="role-desk">MONITOR ¬∑ ENFORCE ¬∑ REPORT</div>
          <div class="role-duties">Does not trade. Monitors all desks for DLL breaches, concentration limits, and intraday stop-out triggers. Issues alerts. Owns the EOD report. Has authority to force-close positions at 100% DLL.</div>
        </div>
      </div>
    </div>
  </div>
  <div class="section-title">Role Assignments (Per Desk)</div>
  <div class="grid-3">
    <div class="role-card"><div class="role-name" style="color:var(--amber)">Head Trader</div><div class="role-desk">DECISION MAKER</div><div class="role-duties">Final call on all trades. Sets the morning view. Manages desk P&L and limits. Speaks for the desk in morning meeting and debrief.</div></div>
    <div class="role-card"><div class="role-name" style="color:var(--amber)">Market Analyst</div><div class="role-desk">RESEARCH & SIGNALS</div><div class="role-duties">Tracks price feed, monitors macro events, reads scenario cards, and advises the Head Trader. Keeps the desk informed of cross-commodity signals.</div></div>
    <div class="role-card"><div class="role-name" style="color:var(--amber)">Trade Desk Associate</div><div class="role-desk">EXECUTION & LOGGING</div><div class="role-duties">Logs all trades in the app, tracks open positions, calculates real-time P&L, and monitors position limits for the desk.</div></div>
  </div>
  <div class="section-title" style="margin-top:8px;">Awards & Recognition</div>
  <div class="grid-4">
    <div class="stat-box"><div class="stat-value" style="font-size:28px;">üèÜ</div><div class="stat-label">Best Desk P&L</div></div>
    <div class="stat-box"><div class="stat-value red" style="font-size:28px;">‚ö°</div><div class="stat-label">Fastest Reaction</div></div>
    <div class="stat-box"><div class="stat-value green" style="font-size:28px;">üõ°Ô∏è</div><div class="stat-label">Best Risk Control</div></div>
    <div class="stat-box"><div class="stat-value" style="font-size:28px;color:var(--cyan);">üí°</div><div class="stat-label">Best Trade Idea</div></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: SOFTS & HARDS -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-softs">
  <div class="section-title">Softs & Hards Desk ‚Äî Full Brief</div>
  <div class="grid-2">
    <div class="card">
      <div class="card-title">Desk Mandate</div>
      <p style="font-size:13px;color:var(--text-dim);line-height:1.8;">The Softs & Hards desk spans two distinct universes: precious/industrial metals (gold, silver, copper) and agricultural soft commodities (coffee, sugar, cotton). Your edge is understanding cross-asset correlations ‚Äî gold moves with macro risk sentiment and real yields, copper tracks China industrial demand, and soft commodities respond to weather and supply chain events. The desk is often the first to react to macro shocks (Fed, Treasury, DXY).</p>
    </div>
    <div class="card">
      <div class="card-title">Starting Universe</div>
      <table class="comm-table">
        <tr><th>Commodity</th><th>Exchange</th><th>Unit</th><th>Lot Size</th><th>Key Driver</th></tr>
        <tr><td class="commodity-name">Gold</td><td>COMEX</td><td>$/oz</td><td>10 oz</td><td class="neutral">Real yields / USD</td></tr>
        <tr><td class="commodity-name">Silver</td><td>COMEX</td><td>$/oz</td><td>100 oz</td><td class="neutral">Gold beta / industrial</td></tr>
        <tr><td class="commodity-name">Copper</td><td>COMEX</td><td>$/lb</td><td>500 lbs</td><td class="down">China PMI</td></tr>
        <tr><td class="commodity-name">Coffee</td><td>ICE</td><td>¬¢/lb</td><td>100 lbs</td><td class="up">Brazil weather</td></tr>
        <tr><td class="commodity-name">Sugar</td><td>ICE</td><td>¬¢/lb</td><td>1,000 lbs</td><td class="neutral">EM currencies</td></tr>
        <tr><td class="commodity-name">Cotton</td><td>ICE</td><td>¬¢/lb</td><td>500 lbs</td><td class="neutral">China textile demand</td></tr>
      </table>
    </div>
  </div>
  <div class="section-title">Pre-Market Checklist</div>
  <div class="grid-2">
    <div class="card">
      <div class="card-title">Metals Pre-Market</div>
      <ul class="checklist">
        <li>Check COMEX overnight gold ‚Äî any major move? Check DXY (dollar index) direction</li>
        <li>Review US 10yr real yield ‚Äî inverse correlation to gold is tight</li>
        <li>China PMI data ‚Äî copper barometer for the day</li>
        <li>Fed speakers scheduled today? Any rate guidance?</li>
        <li>Silver/gold ratio ‚Äî is silver cheap or expensive vs gold? (ratio trade)</li>
        <li>Copper LME inventories ‚Äî rising stocks = bearish signal</li>
      </ul>
    </div>
    <div class="card">
      <div class="card-title">Softs Pre-Market</div>
      <ul class="checklist">
        <li>Brazil BRL/USD overnight ‚Äî weak BRL = producers sell more = bearish coffee</li>
        <li>ICE coffee certified stocks ‚Äî rising stocks cap upside</li>
        <li>Brazil weather forecast: any frost advisory for S√£o Paulo or Minas Gerais?</li>
        <li>Sugar: India export quota news, Thailand harvest progress</li>
        <li>Cotton: US export sales, China import demand signals</li>
        <li>Position limits: max 5 lots per commodity, 15 lots total, DLL $150k</li>
      </ul>
    </div>
  </div>
  <div class="section-title">Key Structural Trades</div>
  <div class="grid-3">
    <div class="rule-block">
      <div class="rule-label amber">Gold/Silver Ratio Trade</div>
      The ratio trades between 70‚Äì90x historically. When ratio is high (silver cheap), long silver vs short gold. When ratio is low, reverse. A mean-reversion spread trade that doesn't require a macro view.
    </div>
    <div class="rule-block">
      <div class="rule-label amber">Copper as China Proxy</div>
      Copper is 55% China demand. If you have a view on Chinese growth (PMI, stimulus headlines), copper is your cleanest expression. Short copper on China slowdown fears; long on stimulus surprises.
    </div>
    <div class="rule-block">
      <div class="rule-label amber">Coffee ‚Äî Frost Premium</div>
      Any frost advisory for Brazil's coffee belt = explosive upside. The 2021 frost sent prices +30% in two weeks. Size into frost news immediately ‚Äî the window is short. Fade the spike once frost risk passes.
    </div>
  </div>
  <div class="section-title">Flashpoint Event ‚Äî Gold & Real Yields</div>
  <div class="event-card">
    <div class="event-severity sev-high">‚ñ† HIGH IMPACT ‚Äî WHEN FED SPEAK EVENT FIRES</div>
    <div class="event-title">Fed Governor Signals Rate Cut ‚Äî Real Yields Fall</div>
    <div class="event-body">When the Fed Speak event fires (09:45), this is your moment. USD sells off, real yields drop ‚Äî gold and silver rally hard. The question: how aggressive do you get? Gold +1.5‚Äì2% is typical. Silver usually outperforms gold in a rally (higher beta).</div>
    <div class="event-impact">Go long gold AND silver on the event. Watch the ratio. If copper is already positioned long by the desk, a USD sell-off confirms the view. Consider trimming copper if China PMI later disappoints.</div>
  </div>
  <div class="section-title">Morning View Template (Deliver at 09:00)</div>
  <div class="card">
    <div class="card-title">Softs & Hards Morning Statement ‚Äî Fill In & Deliver Verbally</div>
    <div style="display:grid;gap:8px;font-size:13px;color:var(--text-dim);">
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(255,179,0,0.2);">üìå <strong style="color:var(--amber)">Metals View:</strong> Gold [Bull/Bear] ‚Äî Target: $[X] | Silver [Bull/Bear] | Copper [Bull/Bear] ‚Äî China view: [positive/negative]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(255,179,0,0.2);">üìå <strong style="color:var(--amber)">Softs View:</strong> Coffee [Bull/Bear] ‚Äî Brazil weather: [Risk/Clear] | Sugar [Bull/Bear] | Cotton [Bull/Bear]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(255,179,0,0.2);">üìå <strong style="color:var(--amber)">Key Trade:</strong> [Describe your highest conviction trade for the day]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(255,179,0,0.2);">üìå <strong style="color:var(--text)">Risk Plan:</strong> Stop-out level: -$[X] | Hedge if Fed disappoints: [describe]</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: ENERGY -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-energy">
  <div class="section-title blue">Energy Desk ‚Äî Full Brief</div>
  <div class="grid-2">
    <div class="card blue">
      <div class="card-title">Desk Mandate</div>
      <p style="font-size:13px;color:var(--text-dim);line-height:1.8;">The Energy desk is the highest-volatility seat in the room. You trade crude oil (WTI and Brent), natural gas, and refined products (heating oil, crack spreads). Your daily P&L will swing more dramatically than any other desk. OPEC decisions, EIA inventory data, geopolitical risk, and weather (for nat gas) are your primary catalysts. The Brent/WTI spread and crack spread are core structural trades.</p>
    </div>
    <div class="card blue">
      <div class="card-title">Starting Universe</div>
      <table class="comm-table">
        <tr><th>Commodity</th><th>Exchange</th><th>Unit</th><th>Lot Size</th><th>Key Driver</th></tr>
        <tr><td class="commodity-name">WTI Crude</td><td>NYMEX</td><td>$/bbl</td><td>100 bbl</td><td class="neutral">OPEC / EIA stocks</td></tr>
        <tr><td class="commodity-name">Brent Crude</td><td>ICE</td><td>$/bbl</td><td>100 bbl</td><td class="neutral">Geopolitical risk</td></tr>
        <tr><td class="commodity-name">Nat Gas</td><td>NYMEX</td><td>$/MMBtu</td><td>1,000 MMBtu</td><td class="up">Weather / storage</td></tr>
        <tr><td class="commodity-name">Heating Oil</td><td>NYMEX</td><td>¬¢/gal</td><td>42,000 gal</td><td class="neutral">Winter demand</td></tr>
      </table>
    </div>
  </div>
  <div class="section-title blue">Pre-Market Checklist</div>
  <div class="grid-2">
    <div class="card blue">
      <div class="card-title">Crude Oil Pre-Market</div>
      <ul class="checklist">
        <li class="blue">API inventory data released last night ‚Äî was it a build or draw? How does it compare to the 5yr average?</li>
        <li class="blue">Brent/WTI spread ‚Äî is it wider or narrower than yesterday? What does this say about export demand?</li>
        <li class="blue">Any OPEC member statements overnight? Saudi Arabia or Russia headlines?</li>
        <li class="blue">Libya / Nigeria / Iraq production news ‚Äî any outage or restart?</li>
        <li class="blue">USD index overnight ‚Äî crude has an inverse correlation to the dollar</li>
        <li class="blue">EIA report today at 10:30 ‚Äî consensus estimate for crude draw/build?</li>
      </ul>
    </div>
    <div class="card blue">
      <div class="card-title">Products & Nat Gas Pre-Market</div>
      <ul class="checklist">
        <li class="blue">Crack spread level: (2 √ó gasoline + heating oil ‚àí 3 √ó WTI) / 3 ‚Äî is refining margin wide?</li>
        <li class="blue">Nat gas: NOAA 10-day weather outlook ‚Äî heating degree days vs. 30yr norm?</li>
        <li class="blue">Nat gas storage report (Thursday) ‚Äî stocks vs. 5yr avg?</li>
        <li class="blue">Position limits: max 12 lots total, 70% max in crude, DLL $200k, intraday stop -$100k</li>
        <li class="blue">Your biggest single risk: an OPEC surprise or EIA miss can move P&L by $50k+ in one event</li>
      </ul>
    </div>
  </div>
  <div class="section-title blue">Key Structural Trades</div>
  <div class="grid-3">
    <div class="rule-block blue">
      <div class="rule-label blue">Brent/WTI Spread</div>
      Brent typically trades at a premium to WTI due to export logistics. When geopolitical risk rises (Libya, Middle East), Brent widens vs WTI. Trade: long Brent / short WTI when risk spikes. Reverse when risk fades.
    </div>
    <div class="rule-block blue">
      <div class="rule-label blue">The Crack Spread</div>
      Long refined products vs short crude. Wide crack = buy the spread (refiners making money). Narrow crack = sell. The 3-2-1 crack: for every 3 barrels of crude, refiners produce 2 gasoline + 1 distillate.
    </div>
    <div class="rule-block blue">
      <div class="rule-label blue">EIA Inventory Play</div>
      At 10:30, you receive the EIA card. Consensus is ‚Äì2.5Mb draw. You have 60 seconds before the room knows. A larger draw is bullish (buy), smaller/build is bearish (sell). Size reflects conviction and residual position.
    </div>
  </div>
  <div class="section-title blue">The EIA Report ‚Äî Simulation's Biggest Energy Event</div>
  <div class="event-card blue">
    <div class="event-severity sev-high">‚ñ† HIGH IMPACT EVENT ‚Äî 10:30 WEDNESDAY</div>
    <div class="event-title">EIA Weekly Petroleum Status Report</div>
    <div class="event-body">The facilitator will hand the Energy Desk a card at exactly 10:30 with the inventory number. Analysts expected a draw of 2.5Mb. The card shows the actual. The desk has 60 seconds to act before the number is announced to the room. Practice reading the number, computing the surprise, and trading conviction immediately. Speed matters.</div>
    <div class="event-impact blue">Consensus: ‚Äì2.5Mb draw | If actual &gt; ‚Äì3.5Mb ‚Üí Bullish surprise ‚Üí Buy crude aggressively | If actual &lt; ‚Äì1.5Mb ‚Üí Bearish miss ‚Üí Sell</div>
  </div>
  <div class="section-title blue">Morning View Template (Deliver at 09:00)</div>
  <div class="card blue">
    <div class="card-title">Energy Desk Morning Statement</div>
    <div style="display:grid;gap:8px;font-size:13px;color:var(--text-dim);">
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(64,196,255,0.2);">üìå <strong style="color:var(--blue)">Crude View:</strong> [Bull/Bear] ‚Äî WTI target: $[X] | Brent target: $[Y] | Max position: [Z] lots</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(64,196,255,0.2);">üìå <strong style="color:var(--blue)">Products View:</strong> Crack spread [widening/narrowing] ‚Äî [Buy/Sell] the crack</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(64,196,255,0.2);">üìå <strong style="color:var(--blue)">Nat Gas View:</strong> [Bull/Bear] ‚Äî Weather catalyst: [Yes/No] ‚Äî Storage vs 5yr avg: [+/‚Äì]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(64,196,255,0.2);">üìå <strong style="color:var(--text)">Stop-out level:</strong> ‚Äì$[X] | Hedge plan if EIA surprises bearish: [describe]</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: AGRICULTURE -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-agri">
  <div class="section-title green">Agriculture Desk ‚Äî Full Brief</div>
  <div class="grid-2">
    <div class="card green">
      <div class="card-title">Desk Mandate</div>
      <p style="font-size:13px;color:var(--text-dim);line-height:1.8;">The Agri desk trades the grain complex (corn, wheat, soybeans) and livestock. You are fundamentally driven by USDA reports, weather systems, export demand, and biofuels policy. Your edge is understanding the interdependency of the complex ‚Äî corn competes with soybeans for acres, soy meal feeds livestock, and corn is the basis for ethanol. The crush spread and corn/wheat substitution are central trades.</p>
    </div>
    <div class="card green">
      <div class="card-title">Starting Universe</div>
      <table class="comm-table">
        <tr><th>Commodity</th><th>Exchange</th><th>Unit</th><th>Lot Size</th><th>Key Driver</th></tr>
        <tr><td class="commodity-name">Corn</td><td>CBOT</td><td>¬¢/bu</td><td>500 bu</td><td class="up">Acres/Ethanol</td></tr>
        <tr><td class="commodity-name">Soybeans</td><td>CBOT</td><td>¬¢/bu</td><td>500 bu</td><td class="up">China demand</td></tr>
        <tr><td class="commodity-name">Wheat (SRW)</td><td>CBOT</td><td>¬¢/bu</td><td>500 bu</td><td class="neutral">Black Sea supply</td></tr>
        <tr><td class="commodity-name">Soybean Meal</td><td>CBOT</td><td>$/ton</td><td>100 ton</td><td class="up">Feed demand</td></tr>
        <tr><td class="commodity-name">Live Cattle</td><td>CME</td><td>¬¢/lb</td><td>400 lbs</td><td class="neutral">Feedlot margins</td></tr>
      </table>
    </div>
  </div>
  <div class="section-title green">Pre-Market Checklist</div>
  <div class="grid-2">
    <div class="card green">
      <div class="card-title">Grains Pre-Market</div>
      <ul class="checklist">
        <li class="green">Check CBOT overnight session ‚Äî any major moves vs last settlement?</li>
        <li class="green">Review weekly Export Sales report (released Thursday 8:30 AM)</li>
        <li class="green">Check Crop Progress report (USDA Monday 4pm ‚Äî review next morning)</li>
        <li class="green">Brazil/Argentina weather ‚Äî any drought or excessive rain forecasts?</li>
        <li class="green">Check corn/wheat spread: which is cheaper as a feed substitution?</li>
        <li class="green">Calculate the crush margin: Soybeans vs (meal + oil output)</li>
      </ul>
    </div>
    <div class="card green">
      <div class="card-title">Livestock Pre-Market</div>
      <ul class="checklist">
        <li class="green">Review USDA Cattle on Feed report (monthly ‚Äî check if recent)</li>
        <li class="green">Check boxed beef cutout values ‚Äî proxy for packer margins</li>
        <li class="green">Any pork export news to China or ASF (African Swine Fever) update?</li>
        <li class="green">Check corn prices ‚Äî feedlot cost input for cattle traders</li>
        <li class="green">Position limits: max 4 lots per grain, 2 lots livestock, 10 lots total</li>
      </ul>
    </div>
  </div>
  <div class="section-title green">Key Structural Trades</div>
  <div class="grid-3">
    <div class="rule-block green">
      <div class="rule-label green">The Soy Crush</div>
      Long soybeans vs short soybean meal and soybean oil in the ratio 11:9:2. Represents crushing margin. Wide crush = profitable to crush = buy beans. Narrow crush = sell the complex.
    </div>
    <div class="rule-block green">
      <div class="rule-label green">Corn/Wheat Spread</div>
      When wheat is cheap relative to corn, feeders substitute wheat for corn ‚Äî capping corn upside. Trading this ratio gives insight into feed demand switching and inter-grain competition.
    </div>
    <div class="rule-block green">
      <div class="rule-label green">Old Crop / New Crop</div>
      July (old crop) vs December (new crop) corn spread. If new crop is at a large discount, the market expects a big harvest. Widening = bearish production expectations.
    </div>
  </div>
  <div class="section-title green">USDA WASDE ‚Äî Simulation's Agri Flashpoint</div>
  <div class="event-card green">
    <div class="event-severity sev-high">‚ñ† HIGH IMPACT EVENT ‚Äî 12:00 NOON (MONTHLY)</div>
    <div class="event-title">USDA World Agricultural Supply and Demand Estimates (WASDE)</div>
    <div class="event-body">The facilitator will distribute a mock WASDE card at noon. It will show simulated corn, soy, and wheat ending stocks (in billion bushels). The desk's job is to immediately calculate whether the stocks number is bullish (below trade estimate) or bearish (above trade estimate) and act. The whole room watches this moment ‚Äî this is where agri traders earn their reputation.</div>
    <div class="event-impact green">Pre-position your view before noon. Be ready to either confirm your trade or quickly reverse if the number shocks you. Reversing fast is a skill.</div>
  </div>
  <div class="section-title green">Morning View Template (Deliver at 09:00)</div>
  <div class="card green">
    <div class="card-title">Agriculture Desk Morning Statement</div>
    <div style="display:grid;gap:8px;font-size:13px;color:var(--text-dim);">
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(0,230,118,0.2);">üìå <strong style="color:var(--green)">Grains View:</strong> Corn [Bull/Bear] | Soybeans [Bull/Bear] | Wheat [Bull/Bear]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(0,230,118,0.2);">üìå <strong style="color:var(--green)">Crush Spread:</strong> Current margin: $[X]/MT | Direction: [Widening/Narrowing] | Trade: [Buy/Sell crush]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(0,230,118,0.2);">üìå <strong style="color:var(--green)">Livestock:</strong> Cattle [Bull/Bear] | Feed cost headwind: [High/Low]</div>
      <div style="padding:10px;background:#0a0e14;border:1px solid rgba(0,230,118,0.2);">üìå <strong style="color:var(--text)">WASDE Positioning:</strong> Pre-WASDE bias: [Long/Short/Flat] | Stop-out if wrong: $[X]</div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: RISK -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-risk">
  <div class="section-title red">Risk Desk ‚Äî Full Brief</div>
  <div class="grid-2">
    <div class="card red">
      <div class="card-title">Risk Desk Mandate</div>
      <p style="font-size:13px;color:var(--text-dim);line-height:1.8;">The Risk Desk does not trade. It is the guardian of firmwide capital. Your job is to monitor every desk's positions in real time, enforce limits, calculate aggregate exposure, and escalate problems before they become catastrophes. You own the EOD P&L report. The Head of Trading (facilitator) is your direct boss. In a real firm, the Risk Desk can override a trader's position ‚Äî you have that power today.</p>
    </div>
    <div class="card red">
      <div class="card-title">Firm-Wide Limits</div>
      <table class="comm-table">
        <tr><th>Limit</th><th>Softs/Hards</th><th>Energy</th><th>Agri</th></tr>
        <tr><td>Daily Loss Limit</td><td class="down">-$150K</td><td class="down">-$200K</td><td class="down">-$150K</td></tr>
        <tr><td>Max Open Lots</td><td class="neutral">15 lots</td><td class="neutral">12 lots</td><td class="neutral">15 lots</td></tr>
        <tr><td>Single Commodity Max</td><td class="neutral">5 lots</td><td class="neutral">5 lots</td><td class="neutral">4 lots</td></tr>
        <tr><td>Concentration Limit</td><td class="neutral">60% one asset</td><td class="neutral">70% crude</td><td class="neutral">50% grains</td></tr>
        <tr><td>Intraday Stop-Out</td><td class="down">-$75K</td><td class="down">-$100K</td><td class="down">-$75K</td></tr>
      </table>
    </div>
  </div>
  <div class="section-title red">Risk Desk Workflow</div>
  <div class="timeline">
    <div class="timeline-item red"><div class="tl-time red">08:30 ‚Äî PRE-MARKET</div><div class="tl-title">Receive Opening Position Sheet</div><div class="tl-body">Each desk submits their intended day-1 book to Risk before 09:00. Review for pre-existing concentration or limit breaches before any trade is executed.</div></div>
    <div class="timeline-item red"><div class="tl-time red">09:00 ‚Äî OPEN</div><div class="tl-title">Begin Live Monitoring</div><div class="tl-body">Update P&L ledger every 10 minutes. Flag any desk within 50% of their DLL immediately.</div></div>
    <div class="timeline-item red"><div class="tl-time red">11:00 ‚Äî MID-MORNING MARK</div><div class="tl-title">Publish Firmwide P&L Snapshot</div><div class="tl-body">Stand up and announce: each desk's current P&L, position count, and any limit proximity. Publicly name any desk at 75%+ of their DLL.</div></div>
    <div class="timeline-item red"><div class="tl-time red">EVENT RESPONSE</div><div class="tl-title">When a Scenario Event Fires</div><div class="tl-body">After any news event, re-mark positions at new prices. Did any desk move 20%+ of DLL in a single event? Issue a warning. Did any desk breach DLL? Issue a stop-out order immediately.</div></div>
    <div class="timeline-item red"><div class="tl-time red">14:15 ‚Äî EOD MARK</div><div class="tl-title">Final Mark-to-Market and P&L Lock</div><div class="tl-body">Mark all positions at settlement prices. Produce the EOD P&L report. Present to the room at debrief. Use the EOD Report button in the Live Sim tab.</div></div>
  </div>
  <div class="section-title red">Escalation Protocol</div>
  <div class="grid-3">
    <div class="rule-block red"><div class="rule-label red">Yellow Alert ‚Äî 50% DLL</div>Send a quiet verbal warning to the desk head. "You are at 50% of your daily limit. Suggest reducing size." Log the time and desk name.</div>
    <div class="rule-block red"><div class="rule-label red">Orange Alert ‚Äî 75% DLL</div>Stand up and announce to the room. Desk must reduce open positions by 30% within 10 minutes or face forced liquidation. Notify facilitator.</div>
    <div class="rule-block red"><div class="rule-label red">Red Alert ‚Äî 100% DLL</div>Immediate stop-out. Risk Desk instructs facilitator to close all desk positions at market. Desk is in "monitoring only" mode for remainder of day.</div>
  </div>
  <div class="section-title red">EOD Risk Report Template</div>
  <div class="card red"><div class="card-title">End of Day Report ‚Äî Generated in Live Sim Tab</div><div style="font-family:'Share Tech Mono',monospace;font-size:12px;line-height:2;color:var(--text-dim);padding:10px;background:#0a0e14;border:1px solid rgba(255,23,68,0.2);">FIRMWIDE EOD RISK REPORT ‚Äî [DATE]<br>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br>SOFTS/HARDS DESK: P&L: $[X] | Peak pos: [N] lots | Alerts: [N]<br>ENERGY DESK:      P&L: $[X] | Peak pos: [N] lots | Alerts: [N]<br>AGRI DESK:        P&L: $[X] | Peak pos: [N] lots | Alerts: [N]<br>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br>FIRMWIDE P&L:     $[TOTAL]<br>BIGGEST WIN:      [Commodity + Desk + $Amount]<br>BIGGEST LOSS:     [Commodity + Desk + $Amount]<br>RISK EVENTS:      [N alerts issued | N stop-outs]<br>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ<br>‚Üí Click "EOD Report" on Live Sim tab to auto-generate this.</div></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: SCENARIOS -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-scenarios">
  <div class="section-title">Intraday Scenario Deck ‚Äî Facilitator Cards</div>
  <p style="font-size:13px;color:var(--text-dim);margin-bottom:20px;">The facilitator draws from this deck throughout the day. Each card is handed to the relevant desk or announced to all. Desks should react within 2 minutes. Use 5‚Äì7 events per session, spaced 15‚Äì25 minutes apart. Fire events live using the <strong style="color:var(--cyan)">Live Sim ‚Üí Fire Scenario Events</strong> panel.</p>
  <div class="section-title blue">Session 1 Events (09:30 ‚Äì 11:00)</div>
  <div class="event-card blue"><div class="event-severity sev-high">‚ñ† EVENT 1 ‚Äî 09:45 | ALL DESKS</div><div class="event-title">Surprise Fed Speak: Rate Cut Expectations Surge</div><div class="event-body">Fed Governor speaks at a conference and signals the committee is "open to adjusting policy sooner than markets expect." US Dollar sells off sharply. Real yields fall. Risk appetite rises across markets.</div><div class="event-impact blue">ENERGY: Crude typically rallies 1‚Äì2% on USD weakness. METALS: Gold and silver rally. SOFTS: Slight positive for EM crop exporters. AGRI: Minimal direct impact unless grain exports become more competitive.</div></div>
  <div class="event-card"><div class="event-severity sev-med">‚ñ† EVENT 2 ‚Äî 10:20 | ENERGY DESK</div><div class="event-title">Libyan Oil Field Shut Due to Militia Activity</div><div class="event-body">Reports emerge that the Es Sider oil terminal in Libya has been shut by militia forces. Production loss estimated at 300,000 barrels per day. Situation unclear ‚Äî could resolve within hours or days.</div><div class="event-impact">CRUDE: Brent typically leads upside (+$1.50‚Äì$3). WTI follows. How much you trade depends on conviction about the duration of the outage. Do you chase it or fade the spike?</div></div>
  <div class="section-title blue">Session 2 Events (11:15 ‚Äì 12:30)</div>
  <div class="event-card green"><div class="event-severity sev-high">‚ñ† EVENT 3 ‚Äî 11:30 | AGRI DESK + SOFTS</div><div class="event-title">Brazil ‚Äî Frost Warning Issued for S√£o Paulo State Coffee Belt</div><div class="event-body">Brazilian meteorological agency issues a frost advisory covering key Arabica coffee growing regions. Temperatures forecast to drop to -2¬∞C overnight for 3 consecutive nights. Last major frost in 2021 sent coffee prices up 30% in two weeks.</div><div class="event-impact green">COFFEE: Potentially explosive move upward. Softs desk should be very active. How much is already priced in? How do you size in without chasing?</div></div>
  <div class="event-card"><div class="event-severity sev-med">‚ñ† EVENT 4 ‚Äî 12:00 | ALL DESKS</div><div class="event-title">China PMI Disappoints ‚Äî Manufacturing Contraction Deepens</div><div class="event-body">China's official NBS manufacturing PMI prints at 47.8, well below the 49.5 consensus and deep in contraction territory. This is the worst reading in 14 months. Global growth fears resurface.</div><div class="event-impact">COPPER: Sells off hard (China = 55% of global copper demand). ENERGY: Crude sells off on demand concerns. GOLD: Could rally as safe-haven bid. GRAINS: Soybean exports to China at risk. SOFTS: Cotton and sugar weaken.</div></div>
  <div class="section-title green">Session 3 Events (13:00 ‚Äì 14:15)</div>
  <div class="event-card"><div class="event-severity sev-med">‚ñ† EVENT 5 ‚Äî 13:15 | AGRI DESK</div><div class="event-title">USDA Export Inspections ‚Äî Corn Shipments Miss Target</div><div class="event-body">Weekly USDA Export Inspections show corn inspections of 32 million bushels, below the 41 million needed weekly to meet full-year export targets. Brazil continues to take market share from US corn. Year-to-date pace now 8% below last year.</div><div class="event-impact green">CORN: Bearish demand signal ‚Äî typically ‚Äì5 to ‚Äì15 cents. Soybeans may follow if China is seen as redirecting purchases to Brazil. Consider whether to reduce long grain positions.</div></div>
  <div class="event-card blue"><div class="event-severity sev-high">‚ñ† EVENT 6 ‚Äî 13:45 | ALL DESKS</div><div class="event-title">OPEC+ Emergency Statement ‚Äî Additional 500,000 bbl/d Cut Announced</div><div class="event-body">Saudi Arabia and Russia release a joint statement announcing a voluntary production cut of 500,000 barrels per day effective next month. Markets had not priced this in. The statement is brief and leaves duration unclear.</div><div class="event-impact blue">CRUDE: Explosive upside. WTI +$3‚Äì6 typical on this kind of surprise. Energy desk ‚Äî this is your moment. How big is your position? Do you add into the spike? AGRI: Indirect inflation impulse.</div></div>
  <div class="event-card red"><div class="event-severity sev-high">‚ñ† EVENT 7 ‚Äî 14:00 | ALL DESKS ‚Äî FINAL EVENT</div><div class="event-title">Surprise: US Treasury Auction Fails ‚Äî Yields Surge</div><div class="event-body">A 10-year US Treasury auction sees the weakest demand in five years. Bid-to-cover ratio collapses. US 10yr yields jump 20bps in 10 minutes. The dollar strengthens sharply. Risk assets sell off across the board.</div><div class="event-impact">GOLD: Sells off despite being a safe-haven (rising real yields dominate). COMMODITIES: Broad sell-off across metals, energy, soft commodities. With only 15 minutes to close, who cuts fast and who freezes?</div></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: MECHANICS -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-mechanics">
  <div class="section-title">Simulation Mechanics & Setup Guide</div>
  <div class="grid-2">
    <div>
      <div class="section-title">Capital & Position Rules</div>
      <div class="rule-block"><div class="rule-label amber">Starting Capital Per Desk</div>Each desk starts with $10,000,000 notional capital. This is not real cash ‚Äî it represents your trading book. Position sizes are expressed in "lots" (contracts).</div>
      <div class="rule-block"><div class="rule-label amber">Simplified Contract Sizes (For Sim)</div>Crude Oil: 100 bbl/lot ¬∑ Nat Gas: 1,000 MMBtu ¬∑ Corn: 500 bushels ¬∑ Soybeans: 500 bushels ¬∑ Wheat: 500 bushels ¬∑ Gold: 10 oz ¬∑ Copper: 500 lbs ¬∑ Coffee: 100 lbs ¬∑ Sugar: 1,000 lbs</div>
      <div class="rule-block"><div class="rule-label amber">Bid/Offer Spread</div>The facilitator charges 1 tick bid/offer on all trades to simulate transaction costs. If you buy at $80.00 crude, you're immediately down $0.10/bbl √ó lots √ó 100 bbl.</div>
      <div class="rule-block"><div class="rule-label amber">Trade Execution</div>To trade, call out: "ENERGY DESK ‚Äî BUY 3 LOTS WTI AT MARKET." The facilitator confirms or rejects (if over limits). Trades are logged in the Live Sim tab immediately.</div>
    </div>
    <div>
      <div class="section-title">Tools & Setup</div>
      <div class="rule-block blue"><div class="rule-label blue">Price Feed</div>Facilitator updates the "Official Price Sheet" in the Live Sim tab every 10 minutes. All P&L is calculated from that official sheet ‚Äî not from personal devices.</div>
      <div class="rule-block blue"><div class="rule-label blue">P&L Tracking</div>All P&L is tracked in the Live Sim tab. Risk Desk monitors the scoreboard. Positions table shows all open trades with live unrealised P&L vs current price.</div>
      <div class="rule-block blue"><div class="rule-label blue">Communication Rules</div>Desks may talk to each other for interdesk trades. All interdesk trades go through the facilitator. No phone use for looking up prices ‚Äî use only the official price feed in this app.</div>
      <div class="rule-block blue"><div class="rule-label blue">Physical Setup</div>Arrange desks in a U-shape. Facilitator stands at the front with this app on a projector. Each desk has a printed desk brief. Scenario cards are physically handed out by the facilitator.</div>
    </div>
  </div>
  <div class="section-title">Awards & Recognition</div>
  <div class="grid-4">
    <div class="stat-box"><div class="stat-value" style="font-size:28px;">üèÜ</div><div class="stat-label">Best Desk P&L</div></div>
    <div class="stat-box"><div class="stat-value red" style="font-size:28px;">‚ö°</div><div class="stat-label">Fastest Reaction</div></div>
    <div class="stat-box"><div class="stat-value green" style="font-size:28px;">üõ°Ô∏è</div><div class="stat-label">Best Risk Control</div></div>
    <div class="stat-box"><div class="stat-value" style="font-size:28px;color:var(--cyan);">üí°</div><div class="stat-label">Best Trade Idea</div></div>
  </div>
  <div class="section-title">Rotation Schedule</div>
  <div class="card"><div class="card-title">Recommended Role Rotation (Multi-Session)</div><p style="font-size:13px;color:var(--text-dim);line-height:1.8;">Run the simulation across multiple club sessions. Each session, rotate roles so everyone experiences all desks including Risk. Suggested order: Session 1 ‚Üí Agri desk (most data-driven, good for beginners). Session 2 ‚Üí Energy (highest volatility, builds fast decision-making). Session 3 ‚Üí Softs/Hards (cross-asset complexity). Session 4 ‚Üí Risk Desk (forces a completely different mindset). Session 5+ ‚Üí Full rotation, increase scenario complexity, add interdesk trades and credit lines.</p></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: DEBRIEF -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-debrief">
  <div class="section-title">Structured Debrief ‚Äî 14:30 to 15:30</div>
  <p style="font-size:13px;color:var(--text-dim);margin-bottom:20px;">The debrief is where 80% of the learning happens. Run it in four phases. The Risk Desk leads with the EOD report, then rotate through the desks. Facilitator asks the questions below ‚Äî no one is allowed to stay silent.</p>
  <div class="grid-2">
    <div>
      <div class="section-title red">Phase 1 ‚Äî Risk Desk Report (10 min)</div>
      <div class="timeline">
        <div class="timeline-item red"><div class="tl-time red">STEP 1</div><div class="tl-title">Risk Desk reads the EOD report</div><div class="tl-body">P&L by desk, peak positions, alerts issued, breaches, firmwide P&L. Generated automatically in Live Sim tab.</div></div>
        <div class="timeline-item red"><div class="tl-time red">STEP 2</div><div class="tl-title">Announce the day's Best and Worst trade</div><div class="tl-body">The single biggest winning trade and the biggest losing trade ‚Äî named by desk and commodity.</div></div>
        <div class="timeline-item red"><div class="tl-time red">STEP 3</div><div class="tl-title">Risk Desk verdict</div><div class="tl-body">Did any desk take reckless risk? Was any desk too conservative? Was risk management tight enough?</div></div>
      </div>
      <div class="section-title" style="margin-top:20px;">Phase 2 ‚Äî Desk-by-Desk (30 min)</div>
      <p style="font-size:13px;color:var(--text-dim);margin-bottom:12px;">Each desk gets 7‚Äì8 minutes. Facilitator asks these questions:</p>
      <div class="debrief-q">What was your original morning view and how close did you stick to it?</div>
      <div class="debrief-q blue">Which event surprised you most? How did you react ‚Äî and was that reaction right?</div>
      <div class="debrief-q green">What was your best trade today ‚Äî what gave you conviction?</div>
      <div class="debrief-q red">What was your worst trade ‚Äî what would you do differently?</div>
      <div class="debrief-q">Did you ever feel emotional about a losing position? How did that affect your decisions?</div>
      <div class="debrief-q blue">Did you know what the other desks were doing? Should you have paid more attention to cross-commodity signals?</div>
    </div>
    <div>
      <div class="section-title">Phase 3 ‚Äî Cross-Desk Discussion (15 min)</div>
      <p style="font-size:13px;color:var(--text-dim);margin-bottom:12px;">Full room discussion. Facilitator leads:</p>
      <div class="debrief-q">When China PMI disappointed ‚Äî how did each desk react differently? Were the fastest movers right?</div>
      <div class="debrief-q blue">Did the OPEC cut surprise help or hurt desks already long? What does that say about position sizing into event risk?</div>
      <div class="debrief-q green">What was the correlation between gold and crude today? Did anyone exploit this?</div>
      <div class="debrief-q red">The Treasury auction failure at 14:00 ‚Äî who cut positions fastest and who held on? Who was right?</div>
      <div class="debrief-q">If you could redesign your desk's morning brief, what would you add?</div>
      <div class="section-title" style="margin-top:20px;">Phase 4 ‚Äî Awards & Learning Capture (5 min)</div>
      <div class="card" style="margin-bottom:12px;">
        <div class="card-title">Award Categories</div>
        <ul class="checklist">
          <li><strong style="color:var(--amber)">Best P&L Desk</strong> ‚Äî Highest total P&L, risk-adjusted</li>
          <li class="blue"><strong style="color:var(--blue)">Fastest Reactor</strong> ‚Äî Best response to a news event (voted by room)</li>
          <li class="green"><strong style="color:var(--green)">Best Discipline</strong> ‚Äî Desk that best managed limits without sacrificing returns</li>
          <li class="red"><strong style="color:var(--red)">Worst Hold</strong> ‚Äî The trade everyone should have cut but didn't (educational)</li>
          <li><strong style="color:var(--cyan)">Best Trade Thesis</strong> ‚Äî Most insightful morning view or spread trade (voted by room)</li>
        </ul>
      </div>
      <div class="section-title">Key Lessons to Reinforce</div>
      <div class="rule-block"><div class="rule-label amber">Position Sizing</div>Most new traders lose money not because they're wrong about direction ‚Äî they're wrong about size. How many desks over-concentrated on a single commodity?</div>
      <div class="rule-block blue"><div class="rule-label blue">Speed vs. Precision</div>In fast-moving events (OPEC, EIA), you can't wait for perfect information. The skill is making good-enough decisions fast.</div>
      <div class="rule-block green"><div class="rule-label green">Cross-Commodity Signals</div>Commodities don't move in isolation. The China PMI hit copper AND soybeans AND crude ‚Äî did anyone connect the dots fast?</div>
    </div>
  </div>
  <!-- EOD Report output -->
  <div class="section-title" style="margin-top:20px;">Auto-Generated EOD Report</div>
  <div id="debrief-eod-placeholder" style="color:var(--text-dim);font-family:'Share Tech Mono',monospace;font-size:12px;padding:16px;background:#0a0e14;border:1px solid var(--border);">No EOD report generated yet. Go to Live Sim tab and click "EOD Report" to generate.</div>
  <div id="debrief-eod-report" style="display:none;"></div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- MODALS -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->

<!-- Price Update Modal -->
<div class="modal-overlay" id="modal-price">
  <div class="modal blue">
    <div class="modal-header">
      <div class="modal-title">Update Official Prices</div>
      <button class="modal-close" onclick="closeModal('modal-price')">‚úï</button>
    </div>
    <div class="modal-body" id="price-modal-body">
      <!-- generated dynamically -->
    </div>
    <div class="modal-footer">
      <button class="sim-btn blue" onclick="applyPrices()">Apply Prices & Refresh P&L</button>
      <button class="sim-btn" style="color:var(--text-dim);border-color:var(--border);" onclick="closeModal('modal-price')">Cancel</button>
    </div>
  </div>
</div>

<!-- EOD Report Modal -->
<div class="modal-overlay" id="modal-eod">
  <div class="modal red" style="max-width:720px;">
    <div class="modal-header">
      <div class="modal-title">EOD Risk Report</div>
      <button class="modal-close" onclick="closeModal('modal-eod')">‚úï</button>
    </div>
    <div class="modal-body" id="eod-modal-body"></div>
    <div class="modal-footer">
      <button class="sim-btn amber" onclick="copyEOD()">Copy Report</button>
      <button class="sim-btn" style="color:var(--text-dim);border-color:var(--border);" onclick="closeModal('modal-eod')">Close</button>
    </div>
  </div>
</div>

<!-- Event Fire Modal -->
<div class="modal-overlay" id="modal-event">
  <div class="modal" id="modal-event-inner">
    <div class="modal-header">
      <div class="modal-title" id="modal-event-title">Event</div>
      <button class="modal-close" onclick="closeModal('modal-event')">‚úï</button>
    </div>
    <div class="modal-body" id="modal-event-body"></div>
    <div class="modal-footer">
      <button class="sim-btn amber" id="modal-event-fire-btn">üî• Fire This Event</button>
      <button class="sim-btn" style="color:var(--text-dim);border-color:var(--border);" onclick="closeModal('modal-event')">Cancel</button>
    </div>
  </div>
</div>

<!-- Morning View Modal -->
<div class="modal-overlay" id="modal-morning">
  <div class="modal" id="modal-morning-inner" style="max-width:650px;">
    <div class="modal-header">
      <div class="modal-title" id="modal-morning-title">Morning View</div>
      <button class="modal-close" onclick="closeModal('modal-morning')">‚úï</button>
    </div>
    <div class="modal-body" id="modal-morning-body"></div>
    <div class="modal-footer">
      <button class="sim-btn green" id="modal-morning-submit">‚úì Submit Morning View</button>
      <button class="sim-btn" style="color:var(--text-dim);border-color:var(--border);" onclick="closeModal('modal-morning')">Cancel</button>
    </div>
  </div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STATE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const DESKS = {
  softs: { name: 'Softs & Hards', dll: 150000, stopOut: 75000, maxLots: 15 },
  energy: { name: 'Energy', dll: 200000, stopOut: 100000, maxLots: 12 },
  agri: { name: 'Agriculture', dll: 150000, stopOut: 75000, maxLots: 15 }
};

const CONTRACT_SIZES = {
  'Gold': 10, 'Silver': 100, 'Copper': 500, 'Coffee': 100,
  'Sugar': 1000, 'Cotton': 500, 'WTI Crude': 100, 'Brent Crude': 100,
  'Nat Gas': 1000, 'Heating Oil': 42000, 'Corn': 500, 'Soybeans': 500,
  'Wheat': 500, 'Soy Meal': 100, 'Live Cattle': 400
};

const DEFAULT_PRICES = {
  'Gold': 2320.0, 'Silver': 27.50, 'Copper': 4.12, 'Coffee': 185.0,
  'Sugar': 22.5, 'Cotton': 82.0, 'WTI Crude': 80.50, 'Brent Crude': 84.20,
  'Nat Gas': 2.65, 'Heating Oil': 255.0, 'Corn': 450.0, 'Soybeans': 1180.0,
  'Wheat': 540.0, 'Soy Meal': 350.0, 'Live Cattle': 182.0
};

let state = {
  prices: { ...DEFAULT_PRICES },
  trades: [],
  alerts: [],
  alertCount: 0,
  firedEvents: new Set(),
  morningViews: { softs: null, energy: null, agri: null },
  tradeIdCounter: 1
};

const SCENARIOS = [
  { id: 'e1', time: '09:45', title: 'Fed Speak: Rate Cut Signal', session: 1, severity: 'med',
    body: 'Fed Governor signals committee is "open to adjusting policy sooner than markets expect." USD sells off. Real yields fall. Risk appetite rises.',
    impact: 'ENERGY: Crude +1‚Äì2% on USD weakness. METALS: Gold & silver rally. SOFTS: Positive for EM crop exporters. AGRI: Minimal direct impact.',
    color: 'blue' },
  { id: 'e2', time: '10:20', title: 'Libya Es Sider Terminal Shut', session: 1, severity: 'med',
    body: 'Militia forces have shut the Es Sider oil terminal. Production loss: 300,000 bbl/day. Duration unclear ‚Äî hours or days.',
    impact: 'CRUDE: Brent leads (+$1.50‚Äì$3). WTI follows. Chase or fade the spike?',
    color: 'amber' },
  { id: 'e3', time: '11:30', title: 'Brazil Frost Warning ‚Äî Coffee Belt', session: 2, severity: 'high',
    body: 'Brazilian met agency issues frost advisory for Arabica coffee regions in S√£o Paulo state. -2¬∞C forecast for 3 consecutive nights. 2021 frost sent coffee +30%.',
    impact: 'COFFEE: Potentially explosive move upward. Softs desk ‚Äî how do you size in without chasing?',
    color: 'green' },
  { id: 'e4', time: '12:00', title: 'China PMI Disappoints ‚Äî 47.8 vs 49.5', session: 2, severity: 'high',
    body: 'China NBS manufacturing PMI prints 47.8 vs 49.5 consensus. Worst reading in 14 months. Global growth fears resurface.',
    impact: 'COPPER: Sells off hard. ENERGY: Crude down on demand fears. GOLD: Safe-haven rally possible. GRAINS: Soybean exports to China at risk.',
    color: 'amber' },
  { id: 'e5', time: '13:15', title: 'USDA Export Inspections Miss ‚Äî Corn', session: 3, severity: 'med',
    body: 'Corn inspections: 32M bu vs 41M bu needed to meet yearly targets. Brazil taking market share. YTD pace 8% below last year.',
    impact: 'CORN: Bearish ‚Äì5 to ‚Äì15 cents. Soybeans may follow. Consider reducing long grain positions.',
    color: 'green' },
  { id: 'e6', time: '13:45', title: 'OPEC+ Emergency Cut ‚Äî 500K bbl/d', session: 3, severity: 'high',
    body: 'Saudi Arabia and Russia announce a voluntary 500,000 bbl/day cut effective next month. Markets had NOT priced this in.',
    impact: 'CRUDE: Explosive upside. WTI +$3‚Äì6 typical. Energy desk ‚Äî this is your moment. Are you long? Do you add into the spike?',
    color: 'blue' },
  { id: 'e7', time: '14:00', title: 'üö® US Treasury Auction Fails ‚Äî FINAL EVENT', session: 3, severity: 'high',
    body: '10-year Treasury auction: worst demand in 5 years. Bid-to-cover collapses. 10yr yields +20bps in 10 min. Dollar surges. Risk-off.',
    impact: 'GOLD: Sells off (rising real yields dominate). BROAD COMMODITY SELL-OFF. Only 15 minutes to close ‚Äî who cuts fast? Who freezes?',
    color: 'red' },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CLOCK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function updateClock() {
  const now = new Date();
  const h = String(now.getHours()).padStart(2,'0');
  const m = String(now.getMinutes()).padStart(2,'0');
  const s = String(now.getSeconds()).padStart(2,'0');
  document.getElementById('clock').textContent = h+':'+m+':'+s;
  const totalMin = now.getHours()*60 + now.getMinutes();
  let badge = 'Pre-Market', color = 'var(--amber)';
  if (totalMin >= 510 && totalMin < 540) { badge = 'Pre-Market'; }
  else if (totalMin >= 540 && totalMin < 570) { badge = 'Morning Mtg'; }
  else if (totalMin >= 570 && totalMin < 660) { badge = 'Session 1'; color='var(--blue)'; }
  else if (totalMin >= 660 && totalMin < 675) { badge = 'Mid Mark'; color='var(--red)'; }
  else if (totalMin >= 675 && totalMin < 750) { badge = 'Session 2'; color='var(--blue)'; }
  else if (totalMin >= 750 && totalMin < 780) { badge = 'Lunch'; color='var(--text-dim)'; }
  else if (totalMin >= 780 && totalMin < 855) { badge = 'Session 3'; color='var(--green)'; }
  else if (totalMin >= 855 && totalMin < 870) { badge = 'EOD Close'; color='var(--red)'; }
  else if (totalMin >= 870) { badge = 'Debrief'; color='var(--amber)'; }
  const el = document.getElementById('sessionBadge');
  el.textContent = badge;
  el.style.borderColor = color;
  el.style.color = color;
  document.getElementById('sim-phase-label').textContent = 'Current Phase: ' + badge;
}
updateClock();
setInterval(updateClock, 1000);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPage(id) {
  document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  document.getElementById('page-' + id).classList.add('active');
  event.target.classList.add('active');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PRICE FEED UI ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderPriceFeed() {
  const panel = document.getElementById('price-feed-panel');
  const groups = [
    { label: 'Metals', items: ['Gold','Silver','Copper'] },
    { label: 'Softs', items: ['Coffee','Sugar','Cotton'] },
    { label: 'Energy', items: ['WTI Crude','Brent Crude','Nat Gas','Heating Oil'] },
    { label: 'Grains & Livestock', items: ['Corn','Soybeans','Wheat','Soy Meal','Live Cattle'] },
  ];
  let html = '';
  for (const grp of groups) {
    html += `<div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;color:var(--text-dim);padding:6px 0 4px;border-bottom:1px solid var(--border);margin-bottom:2px;">${grp.label}</div>`;
    for (const item of grp.items) {
      const p = state.prices[item];
      html += `<div class="price-row">
        <span class="price-name">${item}</span>
        <span class="price-val" id="priceval-${item.replace(/ /g,'_')}" style="color:var(--amber)">${p.toFixed(2)}</span>
      </div>`;
    }
  }
  panel.innerHTML = html;
}

function openPriceModal() {
  const body = document.getElementById('price-modal-body');
  let html = '<div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;">';
  for (const [k, v] of Object.entries(state.prices)) {
    html += `<div class="form-group">
      <label class="form-label">${k}</label>
      <input class="form-input" type="number" step="0.01" id="pm-${k.replace(/ /g,'_')}" value="${v.toFixed(2)}">
    </div>`;
  }
  html += '</div>';
  body.innerHTML = html;
  document.getElementById('modal-price').classList.add('active');
}

function applyPrices() {
  for (const k of Object.keys(state.prices)) {
    const el = document.getElementById('pm-'+k.replace(/ /g,'_'));
    if (el) {
      const val = parseFloat(el.value);
      if (!isNaN(val) && val > 0) state.prices[k] = val;
    }
  }
  renderPriceFeed();
  updateAllPnL();
  closeModal('modal-price');
  addAlert('info', 'Official prices updated by facilitator. All P&L recalculated.');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TRADES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getTime() {
  const now = new Date();
  return String(now.getHours()).padStart(2,'0')+':'+String(now.getMinutes()).padStart(2,'0');
}

function logTrade(dir) {
  const desk = document.getElementById('trade-desk').value;
  const commodity = document.getElementById('trade-commodity').value;
  const price = parseFloat(document.getElementById('trade-price').value);
  const lots = parseInt(document.getElementById('trade-lots').value);

  if (!price || price <= 0) { flashAlert('warn','Missing Entry Price','Please enter a valid entry price.'); return; }
  if (!lots || lots < 1) { flashAlert('warn','Missing Lots','Please enter number of lots.'); return; }

  // Limit checks
  const openLots = state.trades.filter(t => t.desk === desk && t.status === 'open').reduce((s,t)=>s+t.lots,0);
  if (openLots + lots > DESKS[desk].maxLots) {
    flashAlert('danger','Position Limit Breach',`${DESKS[desk].name} would exceed max ${DESKS[desk].maxLots} lots. Current: ${openLots}, Adding: ${lots}`);
    addAlert('danger', `LIMIT BREACH: ${DESKS[desk].name} attempted to exceed max lot limit (${openLots + lots} > ${DESKS[desk].maxLots})`);
    return;
  }

  const trade = {
    id: state.tradeIdCounter++,
    time: getTime(),
    desk, commodity, dir, price, lots,
    contractSize: CONTRACT_SIZES[commodity] || 1,
    status: 'open',
    currPrice: state.prices[commodity] || price,
  };
  state.trades.push(trade);

  addAlert('info', `TRADE: ${DESKS[desk].name} ${dir === 'L' ? 'LONG' : 'SHORT'} ${lots} lot(s) ${commodity} @ ${price.toFixed(2)}`);
  flashAlert('info', `Trade Logged`, `${DESKS[desk].name} ‚Ä¢ ${dir==='L'?'LONG':'SHORT'} ${lots} lot(s) ${commodity} @ ${price.toFixed(2)}`);

  document.getElementById('trade-price').value = '';
  document.getElementById('trade-lots').value = '';

  updateAllPnL();
  renderBlotter();
  renderPositions();
}

function closeTrade(id) {
  const t = state.trades.find(x => x.id === id);
  if (!t) return;
  t.status = 'closed';
  const pnl = calcPnL(t);
  addAlert(pnl >= 0 ? 'good' : 'warn', `CLOSED: ${DESKS[t.desk].name} closed ${t.lots}L ${t.commodity} ‚Äî P&L: ${fmt(pnl)}`);
  updateAllPnL();
  renderBlotter();
  renderPositions();
}

function calcPnL(t) {
  const curr = t.status === 'closed' ? t.currPrice : (state.prices[t.commodity] || t.currPrice);
  const diff = t.dir === 'L' ? (curr - t.price) : (t.price - curr);
  return diff * t.lots * t.contractSize;
}

function fmt(n) {
  const s = Math.abs(n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
  return (n >= 0 ? '+$' : '-$') + s;
}

function fmtAbs(n) {
  return '$' + Math.abs(n).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê P&L SCOREBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function updateAllPnL() {
  for (const deskKey of ['softs','energy','agri']) {
    const openTrades = state.trades.filter(t => t.desk === deskKey && t.status === 'open');
    openTrades.forEach(t => t.currPrice = state.prices[t.commodity] || t.currPrice);

    const pnl = state.trades.filter(t => t.desk === deskKey).reduce((s,t) => s + calcPnL(t), 0);
    const dll = DESKS[deskKey].dll;
    const dllPct = Math.min(Math.abs(pnl < 0 ? pnl : 0) / dll * 100, 100);
    const openLots = openTrades.reduce((s,t)=>s+t.lots,0);

    const pnlEl = document.getElementById('pnl-'+deskKey);
    pnlEl.textContent = (pnl >= 0 ? '+' : '') + '$' + Math.abs(pnl).toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
    pnlEl.className = 'ds-pnl ' + (pnl > 0 ? 'pos' : pnl < 0 ? 'neg' : 'zero');

    const dllText = document.getElementById('dll-'+deskKey+'-text');
    dllText.textContent = `DLL Used: ${fmtAbs(Math.max(0,-pnl))} / ${fmtAbs(dll)} (${dllPct.toFixed(0)}%)`;
    dllText.style.color = dllPct >= 75 ? 'var(--red)' : dllPct >= 50 ? 'var(--amber)' : 'var(--text-dim)';

    const bar = document.getElementById('dll-bar-'+deskKey);
    bar.style.width = dllPct + '%';
    bar.className = 'dll-bar ' + (dllPct >= 75 ? 'danger' : dllPct >= 50 ? 'warn' : '');

    document.getElementById('meta-'+deskKey).textContent = `${openTrades.length} positions ¬∑ ${openLots} lots open`;

    // Auto-alerts
    if (pnl < 0) {
      const lossAmt = Math.abs(pnl);
      if (lossAmt >= dll) { addAlert('danger', `üö® STOP-OUT: ${DESKS[deskKey].name} has breached DLL ($${lossAmt.toFixed(0)} loss). Force-close all positions immediately!`); }
      else if (lossAmt >= dll * 0.75) { addAlert('warn', `‚ö† ORANGE ALERT: ${DESKS[deskKey].name} at ${dllPct.toFixed(0)}% of DLL. Must reduce positions 30% within 10 min.`); }
      else if (lossAmt >= dll * 0.5) { addAlert('warn', `YELLOW ALERT: ${DESKS[deskKey].name} at ${dllPct.toFixed(0)}% of DLL. Suggest reducing size.`); }
    }
  }
  renderPositions();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BLOTTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderBlotter() {
  const body = document.getElementById('blotter-body');
  if (state.trades.length === 0) {
    body.innerHTML = '<div class="blotter-empty">No trades logged. Use the trade entry form above to begin.</div>';
    return;
  }
  body.innerHTML = [...state.trades].reverse().map(t => {
    const pnl = calcPnL(t);
    const curr = state.prices[t.commodity] || t.currPrice;
    return `<div class="blotter-row">
      <span>${t.time}</span>
      <span class="desk">${t.desk === 'softs' ? 'S/H' : t.desk === 'energy' ? 'NRG' : 'AGR'}</span>
      <span>${t.commodity}</span>
      <span class="${t.dir === 'L' ? 'long' : 'short'}">${t.dir === 'L' ? 'LONG' : 'SHORT'}</span>
      <span>${t.lots}</span>
      <span>${t.price.toFixed(2)}</span>
      <span>${curr.toFixed(2)}</span>
      <span class="${pnl >= 0 ? 'pos' : 'neg'}">${fmt(pnl)}</span>
      <span style="color:${t.status==='closed'?'var(--text-dim)':'var(--green)'};font-size:10px;">${t.status.toUpperCase()}</span>
    </div>`;
  }).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê POSITIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderPositions() {
  const body = document.getElementById('positions-body');
  const open = state.trades.filter(t => t.status === 'open');
  if (open.length === 0) {
    body.innerHTML = '<tr><td colspan="8" style="text-align:center;color:var(--text-dim);padding:16px;font-family:\'Share Tech Mono\',monospace;font-size:12px;">No open positions</td></tr>';
    return;
  }
  body.innerHTML = open.map(t => {
    const curr = state.prices[t.commodity] || t.currPrice;
    const pnl = calcPnL(t);
    return `<tr>
      <td style="font-family:'Barlow Condensed',sans-serif;font-weight:700;font-size:13px;">${t.desk === 'softs' ? 'S/H' : t.desk === 'energy' ? 'NRG' : 'AGR'}</td>
      <td style="font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:600;">${t.commodity}</td>
      <td style="color:${t.dir==='L'?'var(--green)':'var(--red)'};font-family:'Share Tech Mono',monospace;font-size:12px;">${t.dir==='L'?'LONG':'SHORT'}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:12px;">${t.price.toFixed(2)}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:12px;">${t.lots}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--amber)">${curr.toFixed(2)}</td>
      <td style="font-family:'Share Tech Mono',monospace;font-size:12px;color:${pnl>=0?'var(--green)':'var(--red)'}">${fmt(pnl)}</td>
      <td><button class="close-pos-btn" onclick="closeTrade(${t.id})">CLOSE</button></td>
    </tr>`;
  }).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ALERTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let alertThrottle = {};
function addAlert(type, msg) {
  const key = type + msg;
  const now = Date.now();
  if (alertThrottle[key] && now - alertThrottle[key] < 5000) return;
  alertThrottle[key] = now;

  state.alerts.unshift({ type, msg, time: getTime() });
  state.alertCount++;
  const badge = document.getElementById('alert-badge');
  badge.textContent = state.alertCount;
  badge.classList.add('show');

  const list = document.getElementById('alert-list');
  const item = document.createElement('div');
  item.className = `alert-item ${type}`;
  item.innerHTML = `<span class="alert-time">${getTime()}</span><span class="alert-msg">${msg}</span>`;
  list.insertBefore(item, list.firstChild);
  if (list.children.length > 30) list.removeChild(list.lastChild);
}

let flashTimeout;
function flashAlert(type, title, body) {
  const existing = document.querySelector('.alert-flash');
  if (existing) existing.remove();
  const div = document.createElement('div');
  div.className = 'alert-flash';
  div.innerHTML = `<div class="alert-flash-inner ${type}"><div class="af-title ${type}">${title}</div><div class="af-body">${body}</div></div>`;
  document.body.appendChild(div);
  clearTimeout(flashTimeout);
  flashTimeout = setTimeout(() => div.remove(), 4000);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCENARIOS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderScenarioButtons() {
  const col1 = document.getElementById('scenario-buttons-col1');
  const col2 = document.getElementById('scenario-buttons-col2');
  col1.innerHTML = '';
  col2.innerHTML = '';
  SCENARIOS.forEach((ev, i) => {
    const fired = state.firedEvents.has(ev.id);
    const isHigh = ev.severity === 'high';
    const btn = document.createElement('button');
    btn.className = `event-btn ${isHigh ? 'high-sev' : ''} ${fired ? 'fired' : ''}`;
    btn.innerHTML = `<span>${ev.time} ‚Äî ${ev.title}</span><span class="ev-time">Session ${ev.session}</span>`;
    if (!fired) btn.onclick = () => previewEvent(ev);
    (i < 4 ? col1 : col2).appendChild(btn);
  });
}

function previewEvent(ev) {
  const modal = document.getElementById('modal-event');
  const inner = document.getElementById('modal-event-inner');
  inner.className = 'modal ' + (ev.color || '');
  document.getElementById('modal-event-title').textContent = `Event ‚Äî ${ev.time} ‚Äî ${ev.title}`;
  document.getElementById('modal-event-body').innerHTML = `
    <div style="margin-bottom:12px;font-size:13px;line-height:1.7;">${ev.body}</div>
    <div style="font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--${ev.color==='green'?'green':ev.color==='blue'?'blue':'amber'});padding:10px;background:rgba(0,0,0,0.3);border:1px solid rgba(255,179,0,0.15);">${ev.impact}</div>`;
  document.getElementById('modal-event-fire-btn').onclick = () => fireEvent(ev);
  modal.classList.add('active');
}

function fireEvent(ev) {
  state.firedEvents.add(ev.id);
  closeModal('modal-event');
  renderScenarioButtons();
  addAlert('info', `üì° EVENT FIRED: ${ev.title} ‚Äî Desks have 2 minutes to react!`);
  flashAlert('event', 'üì° Market Event', ev.title + ' ‚Äî ' + ev.body.substring(0,100) + '...');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EOD REPORT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function generateEOD() {
  const now = new Date().toLocaleDateString('en-GB');
  let firmPnL = 0;
  let bestTrade = null, worstTrade = null;
  let bestPnL = -Infinity, worstPnL = Infinity;

  let lines = [`FIRMWIDE EOD RISK REPORT ‚Äî ${now}`, '‚îÄ'.repeat(50)];

  for (const [key, desk] of Object.entries(DESKS)) {
    const deskTrades = state.trades.filter(t => t.desk === key);
    const pnl = deskTrades.reduce((s,t)=>s+calcPnL(t),0);
    const openTrades = deskTrades.filter(t=>t.status==='open');
    const peakLots = deskTrades.reduce((s,t)=>Math.max(s,t.lots),0);
    firmPnL += pnl;
    lines.push(`${desk.name.toUpperCase().padEnd(18)}: P&L: ${fmt(pnl).padEnd(12)} | Open: ${openTrades.length} pos | Peak: ${peakLots} lots`);

    deskTrades.forEach(t => {
      const p = calcPnL(t);
      if (p > bestPnL) { bestPnL = p; bestTrade = t; }
      if (p < worstPnL) { worstPnL = p; worstTrade = t; }
    });
  }

  lines.push('‚îÄ'.repeat(50));
  lines.push(`FIRMWIDE P&L:     ${fmt(firmPnL)}`);
  lines.push(`BIGGEST WIN:      ${bestTrade ? `${bestTrade.commodity} (${DESKS[bestTrade.desk].name}) ${fmt(bestPnL)}` : 'N/A'}`);
  lines.push(`BIGGEST LOSS:     ${worstTrade ? `${worstTrade.commodity} (${DESKS[worstTrade.desk].name}) ${fmt(worstPnL)}` : 'N/A'}`);
  lines.push(`EVENTS FIRED:     ${state.firedEvents.size} / ${SCENARIOS.length}`);
  lines.push(`TOTAL TRADES:     ${state.trades.length}`);
  lines.push('‚îÄ'.repeat(50));
  lines.push('RISK DESK VERDICT: [Complete verbally in debrief]');

  const reportText = lines.join('\n');

  const body = document.getElementById('eod-modal-body');
  body.innerHTML = `<div class="eod-report">${reportText.replace(/\+\$([\d,]+)/g,'<span class="eod-pos">+$$1</span>').replace(/-\$([\d,]+)/g,'<span class="eod-neg">-$$1</span>').replace(/(FIRMWIDE|BIGGEST|EVENTS|TOTAL|RISK DESK)/g,'<span class="eod-highlight">$1</span>')}</div>`;

  document.getElementById('modal-eod').classList.add('active');

  // Also populate debrief tab
  const debriefPlaceholder = document.getElementById('debrief-eod-placeholder');
  const debriefReport = document.getElementById('debrief-eod-report');
  if (debriefPlaceholder) debriefPlaceholder.style.display = 'none';
  if (debriefReport) {
    debriefReport.style.display = 'block';
    debriefReport.innerHTML = `<div class="eod-report">${reportText}</div>`;
  }
  window._eodText = reportText;
}

function copyEOD() {
  if (window._eodText) {
    navigator.clipboard.writeText(window._eodText).then(() => {
      flashAlert('info','Copied','EOD report copied to clipboard.');
    }).catch(() => {
      flashAlert('warn','Copy Failed','Please manually select and copy the report text.');
    });
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MORNING VIEWS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderMorningViews() {
  const grid = document.getElementById('morning-views-grid');
  const deskDefs = [
    { key: 'softs', label: 'Softs & Hards', color: 'amber', fields: ['Metals View (Gold, Silver, Copper)', 'Softs View (Coffee, Sugar, Cotton)', 'Key Trade Thesis', 'Stop-Out Level & Hedge Plan'] },
    { key: 'energy', label: 'Energy', color: 'blue', fields: ['Crude View (WTI & Brent targets)', 'Products View (Crack spread direction)', 'Nat Gas View', 'Stop-Out Level & EIA hedge plan'] },
    { key: 'agri', label: 'Agriculture', color: 'green', fields: ['Grains View (Corn, Soy, Wheat)', 'Crush Spread View', 'Livestock View', 'WASDE Positioning & Stop-Out'] },
  ];
  grid.innerHTML = deskDefs.map(d => {
    const submitted = state.morningViews[d.key];
    if (submitted) {
      return `<div class="card ${d.color}" style="padding:16px;">
        <div class="card-title" style="color:var(--${d.color})">${d.label} Morning View ‚Äî SUBMITTED</div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--text-dim);line-height:1.9;">
          ${Object.entries(submitted).map(([k,v]) => `<div><span style="color:var(--${d.color})">${k}:</span> ${v || '‚Äî'}</div>`).join('')}
        </div>
        <button class="sim-btn ${d.color}" style="margin-top:10px;width:100%;" onclick="openMorningView('${d.key}')">Edit View</button>
      </div>`;
    }
    return `<div class="card ${d.color}" style="padding:16px;">
      <div class="card-title" style="color:var(--${d.color})">${d.label} Desk</div>
      <p style="font-size:12px;color:var(--text-dim);margin-bottom:12px;">Morning view not yet submitted. Desk Head: complete before 09:00.</p>
      <button class="sim-btn ${d.color}" style="width:100%;" onclick="openMorningView('${d.key}')">üìã Submit Morning View</button>
    </div>`;
  }).join('');
}

function openMorningView(deskKey) {
  const deskDefs = {
    softs: { label: 'Softs & Hards', color: 'amber', fields: ['Metals View (Gold, Silver, Copper)', 'Softs View (Coffee, Sugar, Cotton)', 'Key Trade Thesis', 'Stop-Out Level & Hedge Plan'] },
    energy: { label: 'Energy', color: 'blue', fields: ['Crude View (WTI & Brent targets)', 'Products View (Crack spread direction)', 'Nat Gas View', 'Stop-Out Level & EIA hedge plan'] },
    agri: { label: 'Agriculture', color: 'green', fields: ['Grains View (Corn, Soy, Wheat)', 'Crush Spread View', 'Livestock View', 'WASDE Positioning & Stop-Out'] },
  };
  const d = deskDefs[deskKey];
  const existing = state.morningViews[deskKey] || {};
  const modal = document.getElementById('modal-morning');
  const inner = document.getElementById('modal-morning-inner');
  inner.className = 'modal ' + d.color;
  document.getElementById('modal-morning-title').textContent = d.label + ' ‚Äî Morning View';
  document.getElementById('modal-morning-body').innerHTML = d.fields.map(f => `
    <div class="mv-section">
      <div class="mv-label">${f}</div>
      <textarea class="mv-textarea" id="mv-${f.replace(/[^a-z]/gi,'_')}" placeholder="${f}...">${existing[f] || ''}</textarea>
    </div>`).join('');
  document.getElementById('modal-morning-submit').onclick = () => {
    const view = {};
    d.fields.forEach(f => { view[f] = document.getElementById('mv-'+f.replace(/[^a-z]/gi,'_')).value; });
    state.morningViews[deskKey] = view;
    closeModal('modal-morning');
    renderMorningViews();
    addAlert('good', `${d.label} morning view submitted.`);
    flashAlert('info', 'Morning View Submitted', d.label + ' view locked in.');
  };
  modal.classList.add('active');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODALS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function closeModal(id) { document.getElementById(id).classList.remove('active'); }
document.querySelectorAll('.modal-overlay').forEach(el => {
  el.addEventListener('click', e => { if (e.target === el) el.classList.remove('active'); });
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RESET ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function resetSim() {
  if (!confirm('Reset simulation? All trades, positions, alerts and morning views will be cleared.')) return;
  state.trades = [];
  state.alerts = [];
  state.alertCount = 0;
  state.firedEvents = new Set();
  state.morningViews = { softs: null, energy: null, agri: null };
  state.tradeIdCounter = 1;
  state.prices = { ...DEFAULT_PRICES };
  document.getElementById('alert-badge').classList.remove('show');
  document.getElementById('alert-list').innerHTML = '<div class="alert-item info"><span class="alert-time">--:--</span><span class="alert-msg">Simulation reset. All desks at $0 P&L.</span></div>';
  document.getElementById('blotter-body').innerHTML = '<div class="blotter-empty">No trades logged.</div>';
  renderPriceFeed();
  updateAllPnL();
  renderBlotter();
  renderPositions();
  renderScenarioButtons();
  renderMorningViews();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COMMODITY FILTER BY DESK ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.getElementById('trade-desk').addEventListener('change', function() {
  const desk = this.value;
  const sel = document.getElementById('trade-commodity');
  const opts = sel.options;
  const softsItems = ['Gold','Silver','Copper','Coffee','Sugar','Cotton'];
  const energyItems = ['WTI Crude','Brent Crude','Nat Gas','Heating Oil'];
  const agriItems = ['Corn','Soybeans','Wheat','Soy Meal','Live Cattle'];
  const allowed = desk === 'softs' ? softsItems : desk === 'energy' ? energyItems : agriItems;
  for (let o of opts) { o.hidden = !allowed.includes(o.value); }
  const firstVisible = [...opts].find(o => !o.hidden);
  if (firstVisible) sel.value = firstVisible.value;
});
// Trigger on load
document.getElementById('trade-desk').dispatchEvent(new Event('change'));

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
renderPriceFeed();
renderScenarioButtons();
renderMorningViews();
updateAllPnL();

// Fix about tab active styling
document.getElementById('tab-about').addEventListener('click', function() {
  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
  this.classList.add('active');
  this.style.color = 'var(--amber)';
  this.style.borderBottomColor = 'var(--amber)';
});
document.querySelectorAll('.tab:not(#tab-about)').forEach(t => {
  t.addEventListener('click', function() {
    const at = document.getElementById('tab-about');
    at.style.color = '#4a5568';
    at.style.borderBottomColor = 'transparent';
  });
});
</script>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!-- PAGE: ABOUT / CREATOR -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-about">
  <div style="max-width:900px;margin:0 auto;">

    <!-- Open Source Banner -->
    <div style="background:linear-gradient(135deg,#0d1117 60%,#0a1520);border:1px solid #1a2332;border-top:3px solid var(--amber);padding:32px 36px;margin-bottom:28px;position:relative;overflow:hidden;">
      <div style="position:absolute;top:0;right:0;width:200px;height:200px;background:radial-gradient(circle,rgba(255,179,0,0.04) 0%,transparent 70%);pointer-events:none;"></div>
      <div style="font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:4px;color:var(--amber);margin-bottom:10px;text-transform:uppercase;">Open Source Project</div>
      <div style="font-family:'Barlow Condensed',sans-serif;font-size:36px;font-weight:900;letter-spacing:2px;color:var(--text);line-height:1;margin-bottom:6px;">Commodity Trading Simulation <span style="color:var(--amber)">Framework</span></div>
      <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--text-dim);margin-bottom:24px;letter-spacing:1px;">v1.0 ¬∑ Full Day Multi-Desk Trading Simulation ¬∑ HTML/CSS/JS ¬∑ No Dependencies</div>
      <div style="display:flex;gap:12px;flex-wrap:wrap;">
        <div style="padding:6px 14px;border:1px solid rgba(255,179,0,0.3);font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;color:var(--amber);text-transform:uppercase;">‚óÜ Free to Use</div>
        <div style="padding:6px 14px;border:1px solid rgba(0,230,118,0.3);font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;color:var(--green);text-transform:uppercase;">‚óÜ Open Source</div>
        <div style="padding:6px 14px;border:1px solid rgba(64,196,255,0.3);font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;color:var(--blue);text-transform:uppercase;">‚óÜ Educational Use</div>
        <div style="padding:6px 14px;border:1px solid rgba(255,179,0,0.3);font-family:'Barlow Condensed',sans-serif;font-size:11px;font-weight:700;letter-spacing:2px;color:var(--amber);text-transform:uppercase;">‚óÜ Single File ¬∑ Zero Setup</div>
      </div>
    </div>

    <!-- Creator Card -->
    <div style="display:grid;grid-template-columns:auto 1fr;gap:0;margin-bottom:28px;border:1px solid #1a2332;overflow:hidden;">
      <!-- Left accent strip + avatar area -->
      <div style="background:linear-gradient(180deg,#0d1520,#080a0d);border-right:1px solid #1a2332;padding:32px 28px;display:flex;flex-direction:column;align-items:center;gap:16px;min-width:180px;">
        <div style="width:80px;height:80px;border:2px solid var(--amber);background:#0a0e14;display:flex;align-items:center;justify-content:center;position:relative;">
          <span style="font-family:'Barlow Condensed',sans-serif;font-size:32px;font-weight:900;color:var(--amber);">MM</span>
          <div style="position:absolute;bottom:-1px;right:-1px;width:18px;height:18px;background:var(--green);display:flex;align-items:center;justify-content:center;">
            <span style="font-size:9px;">‚úì</span>
          </div>
        </div>
        <div style="text-align:center;">
          <div style="font-family:'Barlow Condensed',sans-serif;font-size:13px;font-weight:700;letter-spacing:2px;color:var(--amber);text-transform:uppercase;margin-bottom:4px;">Creator</div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--text-dim);letter-spacing:1px;">Hamburg, DE</div>
        </div>
        <!-- KLU Badge -->
        <div style="border:1px solid #1a2332;background:#080a0d;padding:10px 14px;text-align:center;width:100%;">
          <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:900;letter-spacing:2px;color:#40c4ff;text-transform:uppercase;margin-bottom:2px;">KLU</div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--text-dim);letter-spacing:1px;line-height:1.6;">K√ºhne Logistics<br>University</div>
          <div style="width:100%;height:1px;background:linear-gradient(90deg,transparent,#40c4ff,transparent);margin:6px 0;"></div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:7px;color:var(--text-dim);letter-spacing:1px;">M.Sc. Global Logistics<br>& Supply Chain Mgmt</div>
        </div>
      </div>

      <!-- Right: bio content -->
      <div style="padding:32px 32px;background:#0d1117;">
        <div style="font-family:'Barlow Condensed',sans-serif;font-size:28px;font-weight:900;letter-spacing:1px;color:var(--text);margin-bottom:2px;">Matteo Mazzantini</div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--amber);letter-spacing:2px;margin-bottom:20px;">FOUNDER & HEAD OF TRADING ¬∑ KLU SOFT COMMODITY & ENERGY TRADING CLUB</div>

        <p style="font-size:13px;color:var(--text-dim);line-height:1.9;margin-bottom:20px;">
          This simulation framework was designed and built by Matteo Mazzantini as part of his work founding KLU's first Commodity Trading Club. The tool was created to bridge academic theory with real-world commodity market mechanics ‚Äî giving students hands-on experience with physical market structure, derivatives, and risk management across cocoa, coffee, grains, and energy markets.
        </p>

        <!-- Stats row -->
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:24px;">
          <div style="background:#080a0d;border:1px solid #1a2332;padding:12px;text-align:center;">
            <div style="font-family:'Share Tech Mono',monospace;font-size:20px;color:var(--amber);margin-bottom:2px;">4</div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;">Trading Desks</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;padding:12px;text-align:center;">
            <div style="font-family:'Share Tech Mono',monospace;font-size:20px;color:var(--green);margin-bottom:2px;">15+</div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;">Commodities</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;padding:12px;text-align:center;">
            <div style="font-family:'Share Tech Mono',monospace;font-size:20px;color:var(--blue);margin-bottom:2px;">1</div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;">HTML File</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;padding:12px;text-align:center;">
            <div style="font-family:'Share Tech Mono',monospace;font-size:20px;color:var(--cyan);margin-bottom:2px;">0</div>
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:9px;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;">Dependencies</div>
          </div>
        </div>

        <!-- Background highlights -->
        <div class="section-title green" style="margin-bottom:14px;">Background</div>
        <div style="display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:20px;">
          <div style="background:#080a0d;border:1px solid #1a2332;border-left:3px solid var(--amber);padding:12px 14px;">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;color:var(--amber);text-transform:uppercase;margin-bottom:6px;">Current Role</div>
            <div style="font-size:12px;color:var(--text-dim);line-height:1.7;">Working Student at <strong style="color:var(--text)">Hanseatic Cocoa & Commodities</strong>, Hamburg ‚Äî supporting senior brokers on physical cocoa & coffee contracts, hedging advisory, and price risk analysis.</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;border-left:3px solid var(--blue);padding:12px 14px;">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;color:var(--blue);text-transform:uppercase;margin-bottom:6px;">Academic</div>
            <div style="font-size:12px;color:var(--text-dim);line-height:1.7;"><strong style="color:var(--text)">M.Sc. Global Logistics & Supply Chain Management</strong>, K√ºhne Logistics University, Hamburg (2025‚Äìpresent). B.A. Global Governance, University of Rome Tor Vergata.</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;border-left:3px solid var(--green);padding:12px 14px;">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;color:var(--green);text-transform:uppercase;margin-bottom:6px;">Trading Club</div>
            <div style="font-size:12px;color:var(--text-dim);line-height:1.7;">Founded and runs KLU's first <strong style="color:var(--text)">Commodity Trading Club</strong> (Nov 2025). Leads weekly market briefings, manages simulated multi-commodity trading books, and organises industry-facing workshops.</div>
          </div>
          <div style="background:#080a0d;border:1px solid #1a2332;border-left:3px solid var(--cyan);padding:12px 14px;">
            <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:3px;color:var(--cyan);text-transform:uppercase;margin-bottom:6px;">Technical Skills</div>
            <div style="font-size:12px;color:var(--text-dim);line-height:1.7;">Python ¬∑ SQL ¬∑ Excel (Advanced) ¬∑ SAP S/4HANA ¬∑ Power BI ¬∑ SAS Visual Analytics ¬∑ Data Science specialization.</div>
          </div>
        </div>

        <!-- Contact -->
        <div style="background:#080a0d;border:1px solid rgba(255,179,0,0.15);padding:14px 16px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--text-dim);">
            <span style="color:var(--amber)">‚úâ</span> mazzantini.ma@gmail.com &nbsp;¬∑&nbsp; <span style="color:var(--amber)">üìç</span> Hamburg, DE
          </div>
          <div style="font-family:'Barlow Condensed',sans-serif;font-size:10px;font-weight:700;letter-spacing:2px;color:var(--text-dim);text-transform:uppercase;">Languages: English C2 ¬∑ Italian C2 ¬∑ Russian A1</div>
        </div>
      </div>
    </div>

    <!-- Licence / attribution note -->
    <div style="background:#080a0d;border:1px solid #1a2332;padding:16px 20px;font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--text-dim);line-height:1.9;text-align:center;">
      This tool is free for educational and non-commercial use. If you use or adapt this simulation, please credit <span style="color:var(--amber)">Matteo Mazzantini / KLU Commodity Trading Club, Hamburg</span>.<br>
      <span style="color:var(--text-dim);font-size:10px;">Built with HTML ¬∑ CSS ¬∑ Vanilla JavaScript ¬∑ No external dependencies required.</span>
    </div>

  </div>
</div>


</body>
</html>
